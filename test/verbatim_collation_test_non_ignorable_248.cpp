// Warning! This file is autogenerated.
#include "collation_tests.hpp"

#include <boost/algorithm/cxx14/equal.hpp>

#include <gtest/gtest.h>



TEST(collation, non_ignorable_248_000)
{
    // 31F3 003F;	
    // (ㇳ) KATAKANA LETTER SMALL TO	[3E85 0267 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F3, 0x003F };
    uint32_t const ces[9] = { 0x3E85, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_001)
{
    // 30C8 003F;	
    // (ト) KATAKANA LETTER TO	[3E85 0267 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30C8, 0x003F };
    uint32_t const ces[9] = { 0x3E85, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_002)
{
    // FF84 003F;	
    // (ﾄ) HALFWIDTH KATAKANA LETTER TO	[3E85 0267 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF84, 0x003F };
    uint32_t const ces[9] = { 0x3E85, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_003)
{
    // 32E3 003F;	
    // (㋣) CIRCLED KATAKANA TO	[3E85 0267 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E3, 0x003F };
    uint32_t const ces[9] = { 0x3E85, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_004)
{
    // 3069 003F;	
    // (ど) HIRAGANA LETTER DO	[3E85 0267 | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3069, 0x003F };
    uint32_t const ces[11] = { 0x3E85, 0x0267, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_005)
{
    // 30C9 003F;	
    // (ド) KATAKANA LETTER DO	[3E85 0267 | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30C9, 0x003F };
    uint32_t const ces[11] = { 0x3E85, 0x0267, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_006)
{
    // 3068 0061;	
    // (と) HIRAGANA LETTER TO	[3E85 1CAD | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x3068, 0x0061 };
    uint32_t const ces[9] = { 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_007)
{
    // 3068 0041;	
    // (と) HIRAGANA LETTER TO	[3E85 1CAD | 0020 0020 | 000E 0008 |]

    uint32_t cps[2] = { 0x3068, 0x0041 };
    uint32_t const ces[9] = { 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_008)
{
    // 31F3 0061;	
    // (ㇳ) KATAKANA LETTER SMALL TO	[3E85 1CAD | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F3, 0x0061 };
    uint32_t const ces[9] = { 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_009)
{
    // 31F3 0041;	
    // (ㇳ) KATAKANA LETTER SMALL TO	[3E85 1CAD | 0020 0020 | 000F 0008 |]

    uint32_t cps[2] = { 0x31F3, 0x0041 };
    uint32_t const ces[9] = { 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_010)
{
    // 30C8 0061;	
    // (ト) KATAKANA LETTER TO	[3E85 1CAD | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30C8, 0x0061 };
    uint32_t const ces[9] = { 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_011)
{
    // 30C8 0041;	
    // (ト) KATAKANA LETTER TO	[3E85 1CAD | 0020 0020 | 0011 0008 |]

    uint32_t cps[2] = { 0x30C8, 0x0041 };
    uint32_t const ces[9] = { 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_012)
{
    // FF84 0061;	
    // (ﾄ) HALFWIDTH KATAKANA LETTER TO	[3E85 1CAD | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF84, 0x0061 };
    uint32_t const ces[9] = { 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_013)
{
    // FF84 0041;	
    // (ﾄ) HALFWIDTH KATAKANA LETTER TO	[3E85 1CAD | 0020 0020 | 0012 0008 |]

    uint32_t cps[2] = { 0xFF84, 0x0041 };
    uint32_t const ces[9] = { 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_014)
{
    // 32E3 0061;	
    // (㋣) CIRCLED KATAKANA TO	[3E85 1CAD | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E3, 0x0061 };
    uint32_t const ces[9] = { 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_015)
{
    // 32E3 0041;	
    // (㋣) CIRCLED KATAKANA TO	[3E85 1CAD | 0020 0020 | 0013 0008 |]

    uint32_t cps[2] = { 0x32E3, 0x0041 };
    uint32_t const ces[9] = { 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_016)
{
    // 3069 0061;	
    // (ど) HIRAGANA LETTER DO	[3E85 1CAD | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3069, 0x0061 };
    uint32_t const ces[11] = { 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_017)
{
    // 3069 0041;	
    // (ど) HIRAGANA LETTER DO	[3E85 1CAD | 0020 0037 0020 | 000E 0002 0008 |]

    uint32_t cps[2] = { 0x3069, 0x0041 };
    uint32_t const ces[11] = { 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_018)
{
    // 30C9 0061;	
    // (ド) KATAKANA LETTER DO	[3E85 1CAD | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30C9, 0x0061 };
    uint32_t const ces[11] = { 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_019)
{
    // 30C9 0041;	
    // (ド) KATAKANA LETTER DO	[3E85 1CAD | 0020 0037 0020 | 0011 0002 0008 |]

    uint32_t cps[2] = { 0x30C9, 0x0041 };
    uint32_t const ces[11] = { 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_020)
{
    // 3068 0062;	
    // (と) HIRAGANA LETTER TO	[3E85 1CC6 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x3068, 0x0062 };
    uint32_t const ces[9] = { 0x3E85, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_021)
{
    // 31F3 0062;	
    // (ㇳ) KATAKANA LETTER SMALL TO	[3E85 1CC6 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F3, 0x0062 };
    uint32_t const ces[9] = { 0x3E85, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_022)
{
    // 30C8 0062;	
    // (ト) KATAKANA LETTER TO	[3E85 1CC6 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30C8, 0x0062 };
    uint32_t const ces[9] = { 0x3E85, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_023)
{
    // FF84 0062;	
    // (ﾄ) HALFWIDTH KATAKANA LETTER TO	[3E85 1CC6 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF84, 0x0062 };
    uint32_t const ces[9] = { 0x3E85, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_024)
{
    // 32E3 0062;	
    // (㋣) CIRCLED KATAKANA TO	[3E85 1CC6 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E3, 0x0062 };
    uint32_t const ces[9] = { 0x3E85, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_025)
{
    // 3069 0062;	
    // (ど) HIRAGANA LETTER DO	[3E85 1CC6 | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3069, 0x0062 };
    uint32_t const ces[11] = { 0x3E85, 0x1CC6, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_026)
{
    // 30C9 0062;	
    // (ド) KATAKANA LETTER DO	[3E85 1CC6 | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30C9, 0x0062 };
    uint32_t const ces[11] = { 0x3E85, 0x1CC6, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_027)
{
    // 3326 0021;	
    // (㌦) SQUARE DORU	[3E85 3E9A 0261 | 0020 0037 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3326, 0x0021 };
    uint32_t const ces[14] = { 0x3E85, 0x3E9A, 0x0261, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_028)
{
    // 3326 003F;	
    // (㌦) SQUARE DORU	[3E85 3E9A 0267 | 0020 0037 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3326, 0x003F };
    uint32_t const ces[14] = { 0x3E85, 0x3E9A, 0x0267, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_029)
{
    // 3326 0061;	
    // (㌦) SQUARE DORU	[3E85 3E9A 1CAD | 0020 0037 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3326, 0x0061 };
    uint32_t const ces[14] = { 0x3E85, 0x3E9A, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_030)
{
    // 3326 0041;	
    // (㌦) SQUARE DORU	[3E85 3E9A 1CAD | 0020 0037 0020 0020 | 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x3326, 0x0041 };
    uint32_t const ces[14] = { 0x3E85, 0x3E9A, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_031)
{
    // 3326 0062;	
    // (㌦) SQUARE DORU	[3E85 3E9A 1CC6 | 0020 0037 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3326, 0x0062 };
    uint32_t const ces[14] = { 0x3E85, 0x3E9A, 0x1CC6, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_032)
{
    // 3327 0021;	
    // (㌧) SQUARE TON	[3E85 3EA1 0261 | 0020 0020 0020 | 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3327, 0x0021 };
    uint32_t const ces[12] = { 0x3E85, 0x3EA1, 0x0261, 0x0000, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 12);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 12))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_033)
{
    // 3327 003F;	
    // (㌧) SQUARE TON	[3E85 3EA1 0267 | 0020 0020 0020 | 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3327, 0x003F };
    uint32_t const ces[12] = { 0x3E85, 0x3EA1, 0x0267, 0x0000, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 12);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 12))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_034)
{
    // 3327 0061;	
    // (㌧) SQUARE TON	[3E85 3EA1 1CAD | 0020 0020 0020 | 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3327, 0x0061 };
    uint32_t const ces[12] = { 0x3E85, 0x3EA1, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 12);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 12))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_035)
{
    // 3327 0041;	
    // (㌧) SQUARE TON	[3E85 3EA1 1CAD | 0020 0020 0020 | 001C 001C 0008 |]

    uint32_t cps[2] = { 0x3327, 0x0041 };
    uint32_t const ces[12] = { 0x3E85, 0x3EA1, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 12);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 12))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_036)
{
    // 3327 0062;	
    // (㌧) SQUARE TON	[3E85 3EA1 1CC6 | 0020 0020 0020 | 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3327, 0x0062 };
    uint32_t const ces[12] = { 0x3E85, 0x3EA1, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 12);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 12))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_037)
{
    // 306A 0021;	
    // (な) HIRAGANA LETTER NA	[3E86 0261 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306A, 0x0021 };
    uint32_t const ces[9] = { 0x3E86, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_038)
{
    // 30CA 0021;	
    // (ナ) KATAKANA LETTER NA	[3E86 0261 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CA, 0x0021 };
    uint32_t const ces[9] = { 0x3E86, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_039)
{
    // FF85 0021;	
    // (ﾅ) HALFWIDTH KATAKANA LETTER NA	[3E86 0261 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF85, 0x0021 };
    uint32_t const ces[9] = { 0x3E86, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_040)
{
    // 32E4 0021;	
    // (㋤) CIRCLED KATAKANA NA	[3E86 0261 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E4, 0x0021 };
    uint32_t const ces[9] = { 0x3E86, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_041)
{
    // 306A 003F;	
    // (な) HIRAGANA LETTER NA	[3E86 0267 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306A, 0x003F };
    uint32_t const ces[9] = { 0x3E86, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_042)
{
    // 30CA 003F;	
    // (ナ) KATAKANA LETTER NA	[3E86 0267 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CA, 0x003F };
    uint32_t const ces[9] = { 0x3E86, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_043)
{
    // FF85 003F;	
    // (ﾅ) HALFWIDTH KATAKANA LETTER NA	[3E86 0267 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF85, 0x003F };
    uint32_t const ces[9] = { 0x3E86, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_044)
{
    // 32E4 003F;	
    // (㋤) CIRCLED KATAKANA NA	[3E86 0267 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E4, 0x003F };
    uint32_t const ces[9] = { 0x3E86, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_045)
{
    // 306A 0061;	
    // (な) HIRAGANA LETTER NA	[3E86 1CAD | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306A, 0x0061 };
    uint32_t const ces[9] = { 0x3E86, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_046)
{
    // 306A 0041;	
    // (な) HIRAGANA LETTER NA	[3E86 1CAD | 0020 0020 | 000E 0008 |]

    uint32_t cps[2] = { 0x306A, 0x0041 };
    uint32_t const ces[9] = { 0x3E86, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_047)
{
    // 30CA 0061;	
    // (ナ) KATAKANA LETTER NA	[3E86 1CAD | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CA, 0x0061 };
    uint32_t const ces[9] = { 0x3E86, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_048)
{
    // 30CA 0041;	
    // (ナ) KATAKANA LETTER NA	[3E86 1CAD | 0020 0020 | 0011 0008 |]

    uint32_t cps[2] = { 0x30CA, 0x0041 };
    uint32_t const ces[9] = { 0x3E86, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_049)
{
    // FF85 0061;	
    // (ﾅ) HALFWIDTH KATAKANA LETTER NA	[3E86 1CAD | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF85, 0x0061 };
    uint32_t const ces[9] = { 0x3E86, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_050)
{
    // FF85 0041;	
    // (ﾅ) HALFWIDTH KATAKANA LETTER NA	[3E86 1CAD | 0020 0020 | 0012 0008 |]

    uint32_t cps[2] = { 0xFF85, 0x0041 };
    uint32_t const ces[9] = { 0x3E86, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_051)
{
    // 32E4 0061;	
    // (㋤) CIRCLED KATAKANA NA	[3E86 1CAD | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E4, 0x0061 };
    uint32_t const ces[9] = { 0x3E86, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_052)
{
    // 32E4 0041;	
    // (㋤) CIRCLED KATAKANA NA	[3E86 1CAD | 0020 0020 | 0013 0008 |]

    uint32_t cps[2] = { 0x32E4, 0x0041 };
    uint32_t const ces[9] = { 0x3E86, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_053)
{
    // 306A 0062;	
    // (な) HIRAGANA LETTER NA	[3E86 1CC6 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306A, 0x0062 };
    uint32_t const ces[9] = { 0x3E86, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_054)
{
    // 30CA 0062;	
    // (ナ) KATAKANA LETTER NA	[3E86 1CC6 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CA, 0x0062 };
    uint32_t const ces[9] = { 0x3E86, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_055)
{
    // FF85 0062;	
    // (ﾅ) HALFWIDTH KATAKANA LETTER NA	[3E86 1CC6 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF85, 0x0062 };
    uint32_t const ces[9] = { 0x3E86, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_056)
{
    // 32E4 0062;	
    // (㋤) CIRCLED KATAKANA NA	[3E86 1CC6 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E4, 0x0062 };
    uint32_t const ces[9] = { 0x3E86, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_057)
{
    // 3328 0021;	
    // (㌨) SQUARE NANO	[3E86 3E8A 0261 | 0020 0020 0020 | 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3328, 0x0021 };
    uint32_t const ces[12] = { 0x3E86, 0x3E8A, 0x0261, 0x0000, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 12);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 12))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_058)
{
    // 3328 003F;	
    // (㌨) SQUARE NANO	[3E86 3E8A 0267 | 0020 0020 0020 | 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3328, 0x003F };
    uint32_t const ces[12] = { 0x3E86, 0x3E8A, 0x0267, 0x0000, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 12);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 12))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_059)
{
    // 3328 0061;	
    // (㌨) SQUARE NANO	[3E86 3E8A 1CAD | 0020 0020 0020 | 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3328, 0x0061 };
    uint32_t const ces[12] = { 0x3E86, 0x3E8A, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 12);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 12))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_060)
{
    // 3328 0041;	
    // (㌨) SQUARE NANO	[3E86 3E8A 1CAD | 0020 0020 0020 | 001C 001C 0008 |]

    uint32_t cps[2] = { 0x3328, 0x0041 };
    uint32_t const ces[12] = { 0x3E86, 0x3E8A, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 12);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 12))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_061)
{
    // 3328 0062;	
    // (㌨) SQUARE NANO	[3E86 3E8A 1CC6 | 0020 0020 0020 | 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3328, 0x0062 };
    uint32_t const ces[12] = { 0x3E86, 0x3E8A, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 12);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 12))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_062)
{
    // 306B 0021;	
    // (に) HIRAGANA LETTER NI	[3E87 0261 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306B, 0x0021 };
    uint32_t const ces[9] = { 0x3E87, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_063)
{
    // 30CB 0021;	
    // (ニ) KATAKANA LETTER NI	[3E87 0261 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CB, 0x0021 };
    uint32_t const ces[9] = { 0x3E87, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_064)
{
    // FF86 0021;	
    // (ﾆ) HALFWIDTH KATAKANA LETTER NI	[3E87 0261 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF86, 0x0021 };
    uint32_t const ces[9] = { 0x3E87, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_065)
{
    // 32E5 0021;	
    // (㋥) CIRCLED KATAKANA NI	[3E87 0261 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E5, 0x0021 };
    uint32_t const ces[9] = { 0x3E87, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_066)
{
    // 306B 003F;	
    // (に) HIRAGANA LETTER NI	[3E87 0267 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306B, 0x003F };
    uint32_t const ces[9] = { 0x3E87, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_067)
{
    // 30CB 003F;	
    // (ニ) KATAKANA LETTER NI	[3E87 0267 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CB, 0x003F };
    uint32_t const ces[9] = { 0x3E87, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_068)
{
    // FF86 003F;	
    // (ﾆ) HALFWIDTH KATAKANA LETTER NI	[3E87 0267 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF86, 0x003F };
    uint32_t const ces[9] = { 0x3E87, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_069)
{
    // 32E5 003F;	
    // (㋥) CIRCLED KATAKANA NI	[3E87 0267 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E5, 0x003F };
    uint32_t const ces[9] = { 0x3E87, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_070)
{
    // 306B 0061;	
    // (に) HIRAGANA LETTER NI	[3E87 1CAD | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306B, 0x0061 };
    uint32_t const ces[9] = { 0x3E87, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_071)
{
    // 306B 0041;	
    // (に) HIRAGANA LETTER NI	[3E87 1CAD | 0020 0020 | 000E 0008 |]

    uint32_t cps[2] = { 0x306B, 0x0041 };
    uint32_t const ces[9] = { 0x3E87, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_072)
{
    // 30CB 0061;	
    // (ニ) KATAKANA LETTER NI	[3E87 1CAD | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CB, 0x0061 };
    uint32_t const ces[9] = { 0x3E87, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_073)
{
    // 30CB 0041;	
    // (ニ) KATAKANA LETTER NI	[3E87 1CAD | 0020 0020 | 0011 0008 |]

    uint32_t cps[2] = { 0x30CB, 0x0041 };
    uint32_t const ces[9] = { 0x3E87, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_074)
{
    // FF86 0061;	
    // (ﾆ) HALFWIDTH KATAKANA LETTER NI	[3E87 1CAD | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF86, 0x0061 };
    uint32_t const ces[9] = { 0x3E87, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_075)
{
    // FF86 0041;	
    // (ﾆ) HALFWIDTH KATAKANA LETTER NI	[3E87 1CAD | 0020 0020 | 0012 0008 |]

    uint32_t cps[2] = { 0xFF86, 0x0041 };
    uint32_t const ces[9] = { 0x3E87, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_076)
{
    // 32E5 0061;	
    // (㋥) CIRCLED KATAKANA NI	[3E87 1CAD | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E5, 0x0061 };
    uint32_t const ces[9] = { 0x3E87, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_077)
{
    // 32E5 0041;	
    // (㋥) CIRCLED KATAKANA NI	[3E87 1CAD | 0020 0020 | 0013 0008 |]

    uint32_t cps[2] = { 0x32E5, 0x0041 };
    uint32_t const ces[9] = { 0x3E87, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_078)
{
    // 306B 0062;	
    // (に) HIRAGANA LETTER NI	[3E87 1CC6 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306B, 0x0062 };
    uint32_t const ces[9] = { 0x3E87, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_079)
{
    // 30CB 0062;	
    // (ニ) KATAKANA LETTER NI	[3E87 1CC6 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CB, 0x0062 };
    uint32_t const ces[9] = { 0x3E87, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_080)
{
    // FF86 0062;	
    // (ﾆ) HALFWIDTH KATAKANA LETTER NI	[3E87 1CC6 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF86, 0x0062 };
    uint32_t const ces[9] = { 0x3E87, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_081)
{
    // 32E5 0062;	
    // (㋥) CIRCLED KATAKANA NI	[3E87 1CC6 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E5, 0x0062 };
    uint32_t const ces[9] = { 0x3E87, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_082)
{
    // 306C 0021;	
    // (ぬ) HIRAGANA LETTER NU	[3E88 0261 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306C, 0x0021 };
    uint32_t const ces[9] = { 0x3E88, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_083)
{
    // 31F4 0021;	
    // (ㇴ) KATAKANA LETTER SMALL NU	[3E88 0261 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F4, 0x0021 };
    uint32_t const ces[9] = { 0x3E88, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_084)
{
    // 30CC 0021;	
    // (ヌ) KATAKANA LETTER NU	[3E88 0261 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CC, 0x0021 };
    uint32_t const ces[9] = { 0x3E88, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_085)
{
    // FF87 0021;	
    // (ﾇ) HALFWIDTH KATAKANA LETTER NU	[3E88 0261 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF87, 0x0021 };
    uint32_t const ces[9] = { 0x3E88, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_086)
{
    // 32E6 0021;	
    // (㋦) CIRCLED KATAKANA NU	[3E88 0261 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E6, 0x0021 };
    uint32_t const ces[9] = { 0x3E88, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_087)
{
    // 306C 003F;	
    // (ぬ) HIRAGANA LETTER NU	[3E88 0267 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306C, 0x003F };
    uint32_t const ces[9] = { 0x3E88, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_088)
{
    // 31F4 003F;	
    // (ㇴ) KATAKANA LETTER SMALL NU	[3E88 0267 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F4, 0x003F };
    uint32_t const ces[9] = { 0x3E88, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_089)
{
    // 30CC 003F;	
    // (ヌ) KATAKANA LETTER NU	[3E88 0267 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CC, 0x003F };
    uint32_t const ces[9] = { 0x3E88, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_090)
{
    // FF87 003F;	
    // (ﾇ) HALFWIDTH KATAKANA LETTER NU	[3E88 0267 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF87, 0x003F };
    uint32_t const ces[9] = { 0x3E88, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_091)
{
    // 32E6 003F;	
    // (㋦) CIRCLED KATAKANA NU	[3E88 0267 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E6, 0x003F };
    uint32_t const ces[9] = { 0x3E88, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_092)
{
    // 306C 0061;	
    // (ぬ) HIRAGANA LETTER NU	[3E88 1CAD | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306C, 0x0061 };
    uint32_t const ces[9] = { 0x3E88, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_093)
{
    // 306C 0041;	
    // (ぬ) HIRAGANA LETTER NU	[3E88 1CAD | 0020 0020 | 000E 0008 |]

    uint32_t cps[2] = { 0x306C, 0x0041 };
    uint32_t const ces[9] = { 0x3E88, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_094)
{
    // 31F4 0061;	
    // (ㇴ) KATAKANA LETTER SMALL NU	[3E88 1CAD | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F4, 0x0061 };
    uint32_t const ces[9] = { 0x3E88, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_095)
{
    // 31F4 0041;	
    // (ㇴ) KATAKANA LETTER SMALL NU	[3E88 1CAD | 0020 0020 | 000F 0008 |]

    uint32_t cps[2] = { 0x31F4, 0x0041 };
    uint32_t const ces[9] = { 0x3E88, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_096)
{
    // 30CC 0061;	
    // (ヌ) KATAKANA LETTER NU	[3E88 1CAD | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CC, 0x0061 };
    uint32_t const ces[9] = { 0x3E88, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_097)
{
    // 30CC 0041;	
    // (ヌ) KATAKANA LETTER NU	[3E88 1CAD | 0020 0020 | 0011 0008 |]

    uint32_t cps[2] = { 0x30CC, 0x0041 };
    uint32_t const ces[9] = { 0x3E88, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_098)
{
    // FF87 0061;	
    // (ﾇ) HALFWIDTH KATAKANA LETTER NU	[3E88 1CAD | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF87, 0x0061 };
    uint32_t const ces[9] = { 0x3E88, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_099)
{
    // FF87 0041;	
    // (ﾇ) HALFWIDTH KATAKANA LETTER NU	[3E88 1CAD | 0020 0020 | 0012 0008 |]

    uint32_t cps[2] = { 0xFF87, 0x0041 };
    uint32_t const ces[9] = { 0x3E88, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_100)
{
    // 32E6 0061;	
    // (㋦) CIRCLED KATAKANA NU	[3E88 1CAD | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E6, 0x0061 };
    uint32_t const ces[9] = { 0x3E88, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_101)
{
    // 32E6 0041;	
    // (㋦) CIRCLED KATAKANA NU	[3E88 1CAD | 0020 0020 | 0013 0008 |]

    uint32_t cps[2] = { 0x32E6, 0x0041 };
    uint32_t const ces[9] = { 0x3E88, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_102)
{
    // 306C 0062;	
    // (ぬ) HIRAGANA LETTER NU	[3E88 1CC6 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306C, 0x0062 };
    uint32_t const ces[9] = { 0x3E88, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_103)
{
    // 31F4 0062;	
    // (ㇴ) KATAKANA LETTER SMALL NU	[3E88 1CC6 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F4, 0x0062 };
    uint32_t const ces[9] = { 0x3E88, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_104)
{
    // 30CC 0062;	
    // (ヌ) KATAKANA LETTER NU	[3E88 1CC6 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CC, 0x0062 };
    uint32_t const ces[9] = { 0x3E88, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_105)
{
    // FF87 0062;	
    // (ﾇ) HALFWIDTH KATAKANA LETTER NU	[3E88 1CC6 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF87, 0x0062 };
    uint32_t const ces[9] = { 0x3E88, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_106)
{
    // 32E6 0062;	
    // (㋦) CIRCLED KATAKANA NU	[3E88 1CC6 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E6, 0x0062 };
    uint32_t const ces[9] = { 0x3E88, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_107)
{
    // 306D 0021;	
    // (ね) HIRAGANA LETTER NE	[3E89 0261 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306D, 0x0021 };
    uint32_t const ces[9] = { 0x3E89, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_108)
{
    // 30CD 0021;	
    // (ネ) KATAKANA LETTER NE	[3E89 0261 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CD, 0x0021 };
    uint32_t const ces[9] = { 0x3E89, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_109)
{
    // FF88 0021;	
    // (ﾈ) HALFWIDTH KATAKANA LETTER NE	[3E89 0261 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF88, 0x0021 };
    uint32_t const ces[9] = { 0x3E89, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_110)
{
    // 32E7 0021;	
    // (㋧) CIRCLED KATAKANA NE	[3E89 0261 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E7, 0x0021 };
    uint32_t const ces[9] = { 0x3E89, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_111)
{
    // 306D 003F;	
    // (ね) HIRAGANA LETTER NE	[3E89 0267 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306D, 0x003F };
    uint32_t const ces[9] = { 0x3E89, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_112)
{
    // 30CD 003F;	
    // (ネ) KATAKANA LETTER NE	[3E89 0267 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CD, 0x003F };
    uint32_t const ces[9] = { 0x3E89, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_113)
{
    // FF88 003F;	
    // (ﾈ) HALFWIDTH KATAKANA LETTER NE	[3E89 0267 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF88, 0x003F };
    uint32_t const ces[9] = { 0x3E89, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_114)
{
    // 32E7 003F;	
    // (㋧) CIRCLED KATAKANA NE	[3E89 0267 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E7, 0x003F };
    uint32_t const ces[9] = { 0x3E89, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_115)
{
    // 306D 0061;	
    // (ね) HIRAGANA LETTER NE	[3E89 1CAD | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306D, 0x0061 };
    uint32_t const ces[9] = { 0x3E89, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_116)
{
    // 306D 0041;	
    // (ね) HIRAGANA LETTER NE	[3E89 1CAD | 0020 0020 | 000E 0008 |]

    uint32_t cps[2] = { 0x306D, 0x0041 };
    uint32_t const ces[9] = { 0x3E89, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_117)
{
    // 30CD 0061;	
    // (ネ) KATAKANA LETTER NE	[3E89 1CAD | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CD, 0x0061 };
    uint32_t const ces[9] = { 0x3E89, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_118)
{
    // 30CD 0041;	
    // (ネ) KATAKANA LETTER NE	[3E89 1CAD | 0020 0020 | 0011 0008 |]

    uint32_t cps[2] = { 0x30CD, 0x0041 };
    uint32_t const ces[9] = { 0x3E89, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_119)
{
    // FF88 0061;	
    // (ﾈ) HALFWIDTH KATAKANA LETTER NE	[3E89 1CAD | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF88, 0x0061 };
    uint32_t const ces[9] = { 0x3E89, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_120)
{
    // FF88 0041;	
    // (ﾈ) HALFWIDTH KATAKANA LETTER NE	[3E89 1CAD | 0020 0020 | 0012 0008 |]

    uint32_t cps[2] = { 0xFF88, 0x0041 };
    uint32_t const ces[9] = { 0x3E89, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_121)
{
    // 32E7 0061;	
    // (㋧) CIRCLED KATAKANA NE	[3E89 1CAD | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E7, 0x0061 };
    uint32_t const ces[9] = { 0x3E89, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_122)
{
    // 32E7 0041;	
    // (㋧) CIRCLED KATAKANA NE	[3E89 1CAD | 0020 0020 | 0013 0008 |]

    uint32_t cps[2] = { 0x32E7, 0x0041 };
    uint32_t const ces[9] = { 0x3E89, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_123)
{
    // 306D 0062;	
    // (ね) HIRAGANA LETTER NE	[3E89 1CC6 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306D, 0x0062 };
    uint32_t const ces[9] = { 0x3E89, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_124)
{
    // 30CD 0062;	
    // (ネ) KATAKANA LETTER NE	[3E89 1CC6 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CD, 0x0062 };
    uint32_t const ces[9] = { 0x3E89, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_125)
{
    // FF88 0062;	
    // (ﾈ) HALFWIDTH KATAKANA LETTER NE	[3E89 1CC6 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF88, 0x0062 };
    uint32_t const ces[9] = { 0x3E89, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_126)
{
    // 32E7 0062;	
    // (㋧) CIRCLED KATAKANA NE	[3E89 1CC6 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E7, 0x0062 };
    uint32_t const ces[9] = { 0x3E89, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_127)
{
    // 306E 0021;	
    // (の) HIRAGANA LETTER NO	[3E8A 0261 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306E, 0x0021 };
    uint32_t const ces[9] = { 0x3E8A, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_128)
{
    // 30CE 0021;	
    // (ノ) KATAKANA LETTER NO	[3E8A 0261 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CE, 0x0021 };
    uint32_t const ces[9] = { 0x3E8A, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_129)
{
    // FF89 0021;	
    // (ﾉ) HALFWIDTH KATAKANA LETTER NO	[3E8A 0261 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF89, 0x0021 };
    uint32_t const ces[9] = { 0x3E8A, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_130)
{
    // 32E8 0021;	
    // (㋨) CIRCLED KATAKANA NO	[3E8A 0261 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E8, 0x0021 };
    uint32_t const ces[9] = { 0x3E8A, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_131)
{
    // 306E 003F;	
    // (の) HIRAGANA LETTER NO	[3E8A 0267 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306E, 0x003F };
    uint32_t const ces[9] = { 0x3E8A, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_132)
{
    // 30CE 003F;	
    // (ノ) KATAKANA LETTER NO	[3E8A 0267 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CE, 0x003F };
    uint32_t const ces[9] = { 0x3E8A, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_133)
{
    // FF89 003F;	
    // (ﾉ) HALFWIDTH KATAKANA LETTER NO	[3E8A 0267 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF89, 0x003F };
    uint32_t const ces[9] = { 0x3E8A, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_134)
{
    // 32E8 003F;	
    // (㋨) CIRCLED KATAKANA NO	[3E8A 0267 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E8, 0x003F };
    uint32_t const ces[9] = { 0x3E8A, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_135)
{
    // 306E 0061;	
    // (の) HIRAGANA LETTER NO	[3E8A 1CAD | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306E, 0x0061 };
    uint32_t const ces[9] = { 0x3E8A, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_136)
{
    // 306E 0041;	
    // (の) HIRAGANA LETTER NO	[3E8A 1CAD | 0020 0020 | 000E 0008 |]

    uint32_t cps[2] = { 0x306E, 0x0041 };
    uint32_t const ces[9] = { 0x3E8A, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_137)
{
    // 30CE 0061;	
    // (ノ) KATAKANA LETTER NO	[3E8A 1CAD | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CE, 0x0061 };
    uint32_t const ces[9] = { 0x3E8A, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_138)
{
    // 30CE 0041;	
    // (ノ) KATAKANA LETTER NO	[3E8A 1CAD | 0020 0020 | 0011 0008 |]

    uint32_t cps[2] = { 0x30CE, 0x0041 };
    uint32_t const ces[9] = { 0x3E8A, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_139)
{
    // FF89 0061;	
    // (ﾉ) HALFWIDTH KATAKANA LETTER NO	[3E8A 1CAD | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF89, 0x0061 };
    uint32_t const ces[9] = { 0x3E8A, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_140)
{
    // FF89 0041;	
    // (ﾉ) HALFWIDTH KATAKANA LETTER NO	[3E8A 1CAD | 0020 0020 | 0012 0008 |]

    uint32_t cps[2] = { 0xFF89, 0x0041 };
    uint32_t const ces[9] = { 0x3E8A, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_141)
{
    // 32E8 0061;	
    // (㋨) CIRCLED KATAKANA NO	[3E8A 1CAD | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E8, 0x0061 };
    uint32_t const ces[9] = { 0x3E8A, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_142)
{
    // 32E8 0041;	
    // (㋨) CIRCLED KATAKANA NO	[3E8A 1CAD | 0020 0020 | 0013 0008 |]

    uint32_t cps[2] = { 0x32E8, 0x0041 };
    uint32_t const ces[9] = { 0x3E8A, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_143)
{
    // 306E 0062;	
    // (の) HIRAGANA LETTER NO	[3E8A 1CC6 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306E, 0x0062 };
    uint32_t const ces[9] = { 0x3E8A, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_144)
{
    // 30CE 0062;	
    // (ノ) KATAKANA LETTER NO	[3E8A 1CC6 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CE, 0x0062 };
    uint32_t const ces[9] = { 0x3E8A, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_145)
{
    // FF89 0062;	
    // (ﾉ) HALFWIDTH KATAKANA LETTER NO	[3E8A 1CC6 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF89, 0x0062 };
    uint32_t const ces[9] = { 0x3E8A, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_146)
{
    // 32E8 0062;	
    // (㋨) CIRCLED KATAKANA NO	[3E8A 1CC6 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E8, 0x0062 };
    uint32_t const ces[9] = { 0x3E8A, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_147)
{
    // 3329 0021;	
    // (㌩) SQUARE NOTTO	[3E8A 3E83 3E85 0261 | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3329, 0x0021 };
    uint32_t const ces[15] = { 0x3E8A, 0x3E83, 0x3E85, 0x0261, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_148)
{
    // 3329 003F;	
    // (㌩) SQUARE NOTTO	[3E8A 3E83 3E85 0267 | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3329, 0x003F };
    uint32_t const ces[15] = { 0x3E8A, 0x3E83, 0x3E85, 0x0267, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_149)
{
    // 3329 0061;	
    // (㌩) SQUARE NOTTO	[3E8A 3E83 3E85 1CAD | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3329, 0x0061 };
    uint32_t const ces[15] = { 0x3E8A, 0x3E83, 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_150)
{
    // 3329 0041;	
    // (㌩) SQUARE NOTTO	[3E8A 3E83 3E85 1CAD | 0020 0020 0020 0020 | 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x3329, 0x0041 };
    uint32_t const ces[15] = { 0x3E8A, 0x3E83, 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_151)
{
    // 3329 0062;	
    // (㌩) SQUARE NOTTO	[3E8A 3E83 3E85 1CC6 | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3329, 0x0062 };
    uint32_t const ces[15] = { 0x3E8A, 0x3E83, 0x3E85, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_152)
{
    // 306F 0334 3099;	
    // (は̴) HIRAGANA LETTER HA, COMBINING TILDE OVERLAY	[3E8B | 0020 004A 0037 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x306F, 0x0334, 0x3099 };
    uint32_t const ces[10] = { 0x3E8B, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_153)
{
    // 306F 3099 0334;	
    // (ば) HIRAGANA LETTER HA, COMBINING KATAKANA-HIRAGANA VOICED SOUND MARK	[3E8B | 0020 004A 0037 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x306F, 0x3099, 0x0334 };
    uint32_t const ces[10] = { 0x3E8B, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_154)
{
    // 3070 0334;	
    // (ば) HIRAGANA LETTER BA	[3E8B | 0020 004A 0037 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3070, 0x0334 };
    uint32_t const ces[10] = { 0x3E8B, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_155)
{
    // 30CF 0334 3099;	
    // (ハ̴) KATAKANA LETTER HA, COMBINING TILDE OVERLAY	[3E8B | 0020 004A 0037 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30CF, 0x0334, 0x3099 };
    uint32_t const ces[10] = { 0x3E8B, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_156)
{
    // 30CF 3099 0334;	
    // (バ) KATAKANA LETTER HA, COMBINING KATAKANA-HIRAGANA VOICED SOUND MARK	[3E8B | 0020 004A 0037 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30CF, 0x3099, 0x0334 };
    uint32_t const ces[10] = { 0x3E8B, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_157)
{
    // 30D0 0334;	
    // (バ) KATAKANA LETTER BA	[3E8B | 0020 004A 0037 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D0, 0x0334 };
    uint32_t const ces[10] = { 0x3E8B, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_158)
{
    // 306F 0334 309A;	
    // (は̴) HIRAGANA LETTER HA, COMBINING TILDE OVERLAY	[3E8B | 0020 004A 0038 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x306F, 0x0334, 0x309A };
    uint32_t const ces[10] = { 0x3E8B, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_159)
{
    // 306F 309A 0334;	
    // (ぱ) HIRAGANA LETTER HA, COMBINING KATAKANA-HIRAGANA SEMI-VOICED SOUND MARK	[3E8B | 0020 004A 0038 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x306F, 0x309A, 0x0334 };
    uint32_t const ces[10] = { 0x3E8B, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_160)
{
    // 3071 0334;	
    // (ぱ) HIRAGANA LETTER PA	[3E8B | 0020 004A 0038 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3071, 0x0334 };
    uint32_t const ces[10] = { 0x3E8B, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_161)
{
    // 30CF 0334 309A;	
    // (ハ̴) KATAKANA LETTER HA, COMBINING TILDE OVERLAY	[3E8B | 0020 004A 0038 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30CF, 0x0334, 0x309A };
    uint32_t const ces[10] = { 0x3E8B, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_162)
{
    // 30CF 309A 0334;	
    // (パ) KATAKANA LETTER HA, COMBINING KATAKANA-HIRAGANA SEMI-VOICED SOUND MARK	[3E8B | 0020 004A 0038 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30CF, 0x309A, 0x0334 };
    uint32_t const ces[10] = { 0x3E8B, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_163)
{
    // 30D1 0334;	
    // (パ) KATAKANA LETTER PA	[3E8B | 0020 004A 0038 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D1, 0x0334 };
    uint32_t const ces[10] = { 0x3E8B, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_164)
{
    // 306F 0021;	
    // (は) HIRAGANA LETTER HA	[3E8B 0261 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306F, 0x0021 };
    uint32_t const ces[9] = { 0x3E8B, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_165)
{
    // 31F5 0021;	
    // (ㇵ) KATAKANA LETTER SMALL HA	[3E8B 0261 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F5, 0x0021 };
    uint32_t const ces[9] = { 0x3E8B, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_166)
{
    // 30CF 0021;	
    // (ハ) KATAKANA LETTER HA	[3E8B 0261 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CF, 0x0021 };
    uint32_t const ces[9] = { 0x3E8B, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_167)
{
    // FF8A 0021;	
    // (ﾊ) HALFWIDTH KATAKANA LETTER HA	[3E8B 0261 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8A, 0x0021 };
    uint32_t const ces[9] = { 0x3E8B, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_168)
{
    // 32E9 0021;	
    // (㋩) CIRCLED KATAKANA HA	[3E8B 0261 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E9, 0x0021 };
    uint32_t const ces[9] = { 0x3E8B, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_169)
{
    // 3070 0021;	
    // (ば) HIRAGANA LETTER BA	[3E8B 0261 | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3070, 0x0021 };
    uint32_t const ces[11] = { 0x3E8B, 0x0261, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_170)
{
    // 30D0 0021;	
    // (バ) KATAKANA LETTER BA	[3E8B 0261 | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D0, 0x0021 };
    uint32_t const ces[11] = { 0x3E8B, 0x0261, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_171)
{
    // 3071 0021;	
    // (ぱ) HIRAGANA LETTER PA	[3E8B 0261 | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3071, 0x0021 };
    uint32_t const ces[11] = { 0x3E8B, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_172)
{
    // 30D1 0021;	
    // (パ) KATAKANA LETTER PA	[3E8B 0261 | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D1, 0x0021 };
    uint32_t const ces[11] = { 0x3E8B, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_173)
{
    // 306F 003F;	
    // (は) HIRAGANA LETTER HA	[3E8B 0267 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306F, 0x003F };
    uint32_t const ces[9] = { 0x3E8B, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_174)
{
    // 31F5 003F;	
    // (ㇵ) KATAKANA LETTER SMALL HA	[3E8B 0267 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F5, 0x003F };
    uint32_t const ces[9] = { 0x3E8B, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_175)
{
    // 30CF 003F;	
    // (ハ) KATAKANA LETTER HA	[3E8B 0267 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CF, 0x003F };
    uint32_t const ces[9] = { 0x3E8B, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_176)
{
    // FF8A 003F;	
    // (ﾊ) HALFWIDTH KATAKANA LETTER HA	[3E8B 0267 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8A, 0x003F };
    uint32_t const ces[9] = { 0x3E8B, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_177)
{
    // 32E9 003F;	
    // (㋩) CIRCLED KATAKANA HA	[3E8B 0267 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E9, 0x003F };
    uint32_t const ces[9] = { 0x3E8B, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_178)
{
    // 3070 003F;	
    // (ば) HIRAGANA LETTER BA	[3E8B 0267 | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3070, 0x003F };
    uint32_t const ces[11] = { 0x3E8B, 0x0267, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_179)
{
    // 30D0 003F;	
    // (バ) KATAKANA LETTER BA	[3E8B 0267 | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D0, 0x003F };
    uint32_t const ces[11] = { 0x3E8B, 0x0267, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_180)
{
    // 3071 003F;	
    // (ぱ) HIRAGANA LETTER PA	[3E8B 0267 | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3071, 0x003F };
    uint32_t const ces[11] = { 0x3E8B, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_181)
{
    // 30D1 003F;	
    // (パ) KATAKANA LETTER PA	[3E8B 0267 | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D1, 0x003F };
    uint32_t const ces[11] = { 0x3E8B, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_182)
{
    // 332B 0021;	
    // (㌫) SQUARE PAASENTO	[3E8B 1C73 3E7F 3EA1 3E85 0261 | 0020 0038 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332B, 0x0021 };
    uint32_t const ces[23] = { 0x3E8B, 0x1C73, 0x3E7F, 0x3EA1, 0x3E85, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_183)
{
    // 332B 003F;	
    // (㌫) SQUARE PAASENTO	[3E8B 1C73 3E7F 3EA1 3E85 0267 | 0020 0038 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332B, 0x003F };
    uint32_t const ces[23] = { 0x3E8B, 0x1C73, 0x3E7F, 0x3EA1, 0x3E85, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_184)
{
    // 332B 0061;	
    // (㌫) SQUARE PAASENTO	[3E8B 1C73 3E7F 3EA1 3E85 1CAD | 0020 0038 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332B, 0x0061 };
    uint32_t const ces[23] = { 0x3E8B, 0x1C73, 0x3E7F, 0x3EA1, 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_185)
{
    // 332B 0041;	
    // (㌫) SQUARE PAASENTO	[3E8B 1C73 3E7F 3EA1 3E85 1CAD | 0020 0038 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x332B, 0x0041 };
    uint32_t const ces[23] = { 0x3E8B, 0x1C73, 0x3E7F, 0x3EA1, 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_186)
{
    // 332B 0062;	
    // (㌫) SQUARE PAASENTO	[3E8B 1C73 3E7F 3EA1 3E85 1CC6 | 0020 0038 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332B, 0x0062 };
    uint32_t const ces[23] = { 0x3E8B, 0x1C73, 0x3E7F, 0x3EA1, 0x3E85, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_187)
{
    // 332C 0021;	
    // (㌬) SQUARE PAATU	[3E8B 1C73 3E83 0261 | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332C, 0x0021 };
    uint32_t const ces[17] = { 0x3E8B, 0x1C73, 0x3E83, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_188)
{
    // 332C 003F;	
    // (㌬) SQUARE PAATU	[3E8B 1C73 3E83 0267 | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332C, 0x003F };
    uint32_t const ces[17] = { 0x3E8B, 0x1C73, 0x3E83, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_189)
{
    // 332C 0061;	
    // (㌬) SQUARE PAATU	[3E8B 1C73 3E83 1CAD | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332C, 0x0061 };
    uint32_t const ces[17] = { 0x3E8B, 0x1C73, 0x3E83, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_190)
{
    // 332C 0041;	
    // (㌬) SQUARE PAATU	[3E8B 1C73 3E83 1CAD | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x332C, 0x0041 };
    uint32_t const ces[17] = { 0x3E8B, 0x1C73, 0x3E83, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_191)
{
    // 332C 0062;	
    // (㌬) SQUARE PAATU	[3E8B 1C73 3E83 1CC6 | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332C, 0x0062 };
    uint32_t const ces[17] = { 0x3E8B, 0x1C73, 0x3E83, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_192)
{
    // 332D 0021;	
    // (㌭) SQUARE BAARERU	[3E8B 1C73 3E9B 3E9A 0261 | 0020 0037 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332D, 0x0021 };
    uint32_t const ces[20] = { 0x3E8B, 0x1C73, 0x3E9B, 0x3E9A, 0x0261, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 20);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 20))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_193)
{
    // 332D 003F;	
    // (㌭) SQUARE BAARERU	[3E8B 1C73 3E9B 3E9A 0267 | 0020 0037 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332D, 0x003F };
    uint32_t const ces[20] = { 0x3E8B, 0x1C73, 0x3E9B, 0x3E9A, 0x0267, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 20);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 20))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_194)
{
    // 332D 0061;	
    // (㌭) SQUARE BAARERU	[3E8B 1C73 3E9B 3E9A 1CAD | 0020 0037 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332D, 0x0061 };
    uint32_t const ces[20] = { 0x3E8B, 0x1C73, 0x3E9B, 0x3E9A, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 20);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 20))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_195)
{
    // 332D 0041;	
    // (㌭) SQUARE BAARERU	[3E8B 1C73 3E9B 3E9A 1CAD | 0020 0037 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x332D, 0x0041 };
    uint32_t const ces[20] = { 0x3E8B, 0x1C73, 0x3E9B, 0x3E9A, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 20);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 20))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_196)
{
    // 332D 0062;	
    // (㌭) SQUARE BAARERU	[3E8B 1C73 3E9B 3E9A 1CC6 | 0020 0037 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332D, 0x0062 };
    uint32_t const ces[20] = { 0x3E8B, 0x1C73, 0x3E9B, 0x3E9A, 0x1CC6, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 20);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 20))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_197)
{
    // 306F 0061;	
    // (は) HIRAGANA LETTER HA	[3E8B 1CAD | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306F, 0x0061 };
    uint32_t const ces[9] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_198)
{
    // 306F 0041;	
    // (は) HIRAGANA LETTER HA	[3E8B 1CAD | 0020 0020 | 000E 0008 |]

    uint32_t cps[2] = { 0x306F, 0x0041 };
    uint32_t const ces[9] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_199)
{
    // 31F5 0061;	
    // (ㇵ) KATAKANA LETTER SMALL HA	[3E8B 1CAD | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F5, 0x0061 };
    uint32_t const ces[9] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_200)
{
    // 31F5 0041;	
    // (ㇵ) KATAKANA LETTER SMALL HA	[3E8B 1CAD | 0020 0020 | 000F 0008 |]

    uint32_t cps[2] = { 0x31F5, 0x0041 };
    uint32_t const ces[9] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_201)
{
    // 30CF 0061;	
    // (ハ) KATAKANA LETTER HA	[3E8B 1CAD | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CF, 0x0061 };
    uint32_t const ces[9] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_202)
{
    // 30CF 0041;	
    // (ハ) KATAKANA LETTER HA	[3E8B 1CAD | 0020 0020 | 0011 0008 |]

    uint32_t cps[2] = { 0x30CF, 0x0041 };
    uint32_t const ces[9] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_203)
{
    // FF8A 0061;	
    // (ﾊ) HALFWIDTH KATAKANA LETTER HA	[3E8B 1CAD | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8A, 0x0061 };
    uint32_t const ces[9] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_204)
{
    // FF8A 0041;	
    // (ﾊ) HALFWIDTH KATAKANA LETTER HA	[3E8B 1CAD | 0020 0020 | 0012 0008 |]

    uint32_t cps[2] = { 0xFF8A, 0x0041 };
    uint32_t const ces[9] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_205)
{
    // 32E9 0061;	
    // (㋩) CIRCLED KATAKANA HA	[3E8B 1CAD | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E9, 0x0061 };
    uint32_t const ces[9] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_206)
{
    // 32E9 0041;	
    // (㋩) CIRCLED KATAKANA HA	[3E8B 1CAD | 0020 0020 | 0013 0008 |]

    uint32_t cps[2] = { 0x32E9, 0x0041 };
    uint32_t const ces[9] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_207)
{
    // 3070 0061;	
    // (ば) HIRAGANA LETTER BA	[3E8B 1CAD | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3070, 0x0061 };
    uint32_t const ces[11] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_208)
{
    // 3070 0041;	
    // (ば) HIRAGANA LETTER BA	[3E8B 1CAD | 0020 0037 0020 | 000E 0002 0008 |]

    uint32_t cps[2] = { 0x3070, 0x0041 };
    uint32_t const ces[11] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_209)
{
    // 30D0 0061;	
    // (バ) KATAKANA LETTER BA	[3E8B 1CAD | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D0, 0x0061 };
    uint32_t const ces[11] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_210)
{
    // 30D0 0041;	
    // (バ) KATAKANA LETTER BA	[3E8B 1CAD | 0020 0037 0020 | 0011 0002 0008 |]

    uint32_t cps[2] = { 0x30D0, 0x0041 };
    uint32_t const ces[11] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_211)
{
    // 3071 0061;	
    // (ぱ) HIRAGANA LETTER PA	[3E8B 1CAD | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3071, 0x0061 };
    uint32_t const ces[11] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_212)
{
    // 3071 0041;	
    // (ぱ) HIRAGANA LETTER PA	[3E8B 1CAD | 0020 0038 0020 | 000E 0002 0008 |]

    uint32_t cps[2] = { 0x3071, 0x0041 };
    uint32_t const ces[11] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_213)
{
    // 30D1 0061;	
    // (パ) KATAKANA LETTER PA	[3E8B 1CAD | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D1, 0x0061 };
    uint32_t const ces[11] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_214)
{
    // 30D1 0041;	
    // (パ) KATAKANA LETTER PA	[3E8B 1CAD | 0020 0038 0020 | 0011 0002 0008 |]

    uint32_t cps[2] = { 0x30D1, 0x0041 };
    uint32_t const ces[11] = { 0x3E8B, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_215)
{
    // 306F 0062;	
    // (は) HIRAGANA LETTER HA	[3E8B 1CC6 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x306F, 0x0062 };
    uint32_t const ces[9] = { 0x3E8B, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_216)
{
    // 31F5 0062;	
    // (ㇵ) KATAKANA LETTER SMALL HA	[3E8B 1CC6 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F5, 0x0062 };
    uint32_t const ces[9] = { 0x3E8B, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_217)
{
    // 30CF 0062;	
    // (ハ) KATAKANA LETTER HA	[3E8B 1CC6 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30CF, 0x0062 };
    uint32_t const ces[9] = { 0x3E8B, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_218)
{
    // FF8A 0062;	
    // (ﾊ) HALFWIDTH KATAKANA LETTER HA	[3E8B 1CC6 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8A, 0x0062 };
    uint32_t const ces[9] = { 0x3E8B, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_219)
{
    // 32E9 0062;	
    // (㋩) CIRCLED KATAKANA HA	[3E8B 1CC6 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32E9, 0x0062 };
    uint32_t const ces[9] = { 0x3E8B, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_220)
{
    // 3070 0062;	
    // (ば) HIRAGANA LETTER BA	[3E8B 1CC6 | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3070, 0x0062 };
    uint32_t const ces[11] = { 0x3E8B, 0x1CC6, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_221)
{
    // 30D0 0062;	
    // (バ) KATAKANA LETTER BA	[3E8B 1CC6 | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D0, 0x0062 };
    uint32_t const ces[11] = { 0x3E8B, 0x1CC6, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_222)
{
    // 3071 0062;	
    // (ぱ) HIRAGANA LETTER PA	[3E8B 1CC6 | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3071, 0x0062 };
    uint32_t const ces[11] = { 0x3E8B, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_223)
{
    // 30D1 0062;	
    // (パ) KATAKANA LETTER PA	[3E8B 1CC6 | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D1, 0x0062 };
    uint32_t const ces[11] = { 0x3E8B, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_224)
{
    // 332A 0021;	
    // (㌪) SQUARE HAITU	[3E8B 3E72 3E83 0261 | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332A, 0x0021 };
    uint32_t const ces[15] = { 0x3E8B, 0x3E72, 0x3E83, 0x0261, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_225)
{
    // 332A 003F;	
    // (㌪) SQUARE HAITU	[3E8B 3E72 3E83 0267 | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332A, 0x003F };
    uint32_t const ces[15] = { 0x3E8B, 0x3E72, 0x3E83, 0x0267, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_226)
{
    // 332A 0061;	
    // (㌪) SQUARE HAITU	[3E8B 3E72 3E83 1CAD | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332A, 0x0061 };
    uint32_t const ces[15] = { 0x3E8B, 0x3E72, 0x3E83, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_227)
{
    // 332A 0041;	
    // (㌪) SQUARE HAITU	[3E8B 3E72 3E83 1CAD | 0020 0020 0020 0020 | 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x332A, 0x0041 };
    uint32_t const ces[15] = { 0x3E8B, 0x3E72, 0x3E83, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_228)
{
    // 332A 0062;	
    // (㌪) SQUARE HAITU	[3E8B 3E72 3E83 1CC6 | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332A, 0x0062 };
    uint32_t const ces[15] = { 0x3E8B, 0x3E72, 0x3E83, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_229)
{
    // 3072 0334 3099;	
    // (ひ̴) HIRAGANA LETTER HI, COMBINING TILDE OVERLAY	[3E8C | 0020 004A 0037 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x3072, 0x0334, 0x3099 };
    uint32_t const ces[10] = { 0x3E8C, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_230)
{
    // 3072 3099 0334;	
    // (び) HIRAGANA LETTER HI, COMBINING KATAKANA-HIRAGANA VOICED SOUND MARK	[3E8C | 0020 004A 0037 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x3072, 0x3099, 0x0334 };
    uint32_t const ces[10] = { 0x3E8C, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_231)
{
    // 3073 0334;	
    // (び) HIRAGANA LETTER BI	[3E8C | 0020 004A 0037 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3073, 0x0334 };
    uint32_t const ces[10] = { 0x3E8C, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_232)
{
    // 30D2 0334 3099;	
    // (ヒ̴) KATAKANA LETTER HI, COMBINING TILDE OVERLAY	[3E8C | 0020 004A 0037 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30D2, 0x0334, 0x3099 };
    uint32_t const ces[10] = { 0x3E8C, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_233)
{
    // 30D2 3099 0334;	
    // (ビ) KATAKANA LETTER HI, COMBINING KATAKANA-HIRAGANA VOICED SOUND MARK	[3E8C | 0020 004A 0037 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30D2, 0x3099, 0x0334 };
    uint32_t const ces[10] = { 0x3E8C, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_234)
{
    // 30D3 0334;	
    // (ビ) KATAKANA LETTER BI	[3E8C | 0020 004A 0037 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D3, 0x0334 };
    uint32_t const ces[10] = { 0x3E8C, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_235)
{
    // 3072 0334 309A;	
    // (ひ̴) HIRAGANA LETTER HI, COMBINING TILDE OVERLAY	[3E8C | 0020 004A 0038 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x3072, 0x0334, 0x309A };
    uint32_t const ces[10] = { 0x3E8C, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_236)
{
    // 3072 309A 0334;	
    // (ぴ) HIRAGANA LETTER HI, COMBINING KATAKANA-HIRAGANA SEMI-VOICED SOUND MARK	[3E8C | 0020 004A 0038 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x3072, 0x309A, 0x0334 };
    uint32_t const ces[10] = { 0x3E8C, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_237)
{
    // 3074 0334;	
    // (ぴ) HIRAGANA LETTER PI	[3E8C | 0020 004A 0038 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3074, 0x0334 };
    uint32_t const ces[10] = { 0x3E8C, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_238)
{
    // 30D2 0334 309A;	
    // (ヒ̴) KATAKANA LETTER HI, COMBINING TILDE OVERLAY	[3E8C | 0020 004A 0038 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30D2, 0x0334, 0x309A };
    uint32_t const ces[10] = { 0x3E8C, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_239)
{
    // 30D2 309A 0334;	
    // (ピ) KATAKANA LETTER HI, COMBINING KATAKANA-HIRAGANA SEMI-VOICED SOUND MARK	[3E8C | 0020 004A 0038 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30D2, 0x309A, 0x0334 };
    uint32_t const ces[10] = { 0x3E8C, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_240)
{
    // 30D4 0334;	
    // (ピ) KATAKANA LETTER PI	[3E8C | 0020 004A 0038 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D4, 0x0334 };
    uint32_t const ces[10] = { 0x3E8C, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_241)
{
    // 3072 0021;	
    // (ひ) HIRAGANA LETTER HI	[3E8C 0261 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x3072, 0x0021 };
    uint32_t const ces[9] = { 0x3E8C, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_242)
{
    // 31F6 0021;	
    // (ㇶ) KATAKANA LETTER SMALL HI	[3E8C 0261 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F6, 0x0021 };
    uint32_t const ces[9] = { 0x3E8C, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_243)
{
    // 30D2 0021;	
    // (ヒ) KATAKANA LETTER HI	[3E8C 0261 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30D2, 0x0021 };
    uint32_t const ces[9] = { 0x3E8C, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_244)
{
    // FF8B 0021;	
    // (ﾋ) HALFWIDTH KATAKANA LETTER HI	[3E8C 0261 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8B, 0x0021 };
    uint32_t const ces[9] = { 0x3E8C, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_245)
{
    // 32EA 0021;	
    // (㋪) CIRCLED KATAKANA HI	[3E8C 0261 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32EA, 0x0021 };
    uint32_t const ces[9] = { 0x3E8C, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_246)
{
    // 3073 0021;	
    // (び) HIRAGANA LETTER BI	[3E8C 0261 | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3073, 0x0021 };
    uint32_t const ces[11] = { 0x3E8C, 0x0261, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_247)
{
    // 30D3 0021;	
    // (ビ) KATAKANA LETTER BI	[3E8C 0261 | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D3, 0x0021 };
    uint32_t const ces[11] = { 0x3E8C, 0x0261, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_248)
{
    // 3074 0021;	
    // (ぴ) HIRAGANA LETTER PI	[3E8C 0261 | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3074, 0x0021 };
    uint32_t const ces[11] = { 0x3E8C, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_249)
{
    // 30D4 0021;	
    // (ピ) KATAKANA LETTER PI	[3E8C 0261 | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D4, 0x0021 };
    uint32_t const ces[11] = { 0x3E8C, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_250)
{
    // 3072 003F;	
    // (ひ) HIRAGANA LETTER HI	[3E8C 0267 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x3072, 0x003F };
    uint32_t const ces[9] = { 0x3E8C, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_251)
{
    // 31F6 003F;	
    // (ㇶ) KATAKANA LETTER SMALL HI	[3E8C 0267 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F6, 0x003F };
    uint32_t const ces[9] = { 0x3E8C, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_252)
{
    // 30D2 003F;	
    // (ヒ) KATAKANA LETTER HI	[3E8C 0267 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30D2, 0x003F };
    uint32_t const ces[9] = { 0x3E8C, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_253)
{
    // FF8B 003F;	
    // (ﾋ) HALFWIDTH KATAKANA LETTER HI	[3E8C 0267 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8B, 0x003F };
    uint32_t const ces[9] = { 0x3E8C, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_254)
{
    // 32EA 003F;	
    // (㋪) CIRCLED KATAKANA HI	[3E8C 0267 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32EA, 0x003F };
    uint32_t const ces[9] = { 0x3E8C, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_255)
{
    // 3073 003F;	
    // (び) HIRAGANA LETTER BI	[3E8C 0267 | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3073, 0x003F };
    uint32_t const ces[11] = { 0x3E8C, 0x0267, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_256)
{
    // 30D3 003F;	
    // (ビ) KATAKANA LETTER BI	[3E8C 0267 | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D3, 0x003F };
    uint32_t const ces[11] = { 0x3E8C, 0x0267, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_257)
{
    // 3074 003F;	
    // (ぴ) HIRAGANA LETTER PI	[3E8C 0267 | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3074, 0x003F };
    uint32_t const ces[11] = { 0x3E8C, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_258)
{
    // 30D4 003F;	
    // (ピ) KATAKANA LETTER PI	[3E8C 0267 | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D4, 0x003F };
    uint32_t const ces[11] = { 0x3E8C, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_259)
{
    // 3072 0061;	
    // (ひ) HIRAGANA LETTER HI	[3E8C 1CAD | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x3072, 0x0061 };
    uint32_t const ces[9] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_260)
{
    // 3072 0041;	
    // (ひ) HIRAGANA LETTER HI	[3E8C 1CAD | 0020 0020 | 000E 0008 |]

    uint32_t cps[2] = { 0x3072, 0x0041 };
    uint32_t const ces[9] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_261)
{
    // 31F6 0061;	
    // (ㇶ) KATAKANA LETTER SMALL HI	[3E8C 1CAD | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F6, 0x0061 };
    uint32_t const ces[9] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_262)
{
    // 31F6 0041;	
    // (ㇶ) KATAKANA LETTER SMALL HI	[3E8C 1CAD | 0020 0020 | 000F 0008 |]

    uint32_t cps[2] = { 0x31F6, 0x0041 };
    uint32_t const ces[9] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_263)
{
    // 30D2 0061;	
    // (ヒ) KATAKANA LETTER HI	[3E8C 1CAD | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30D2, 0x0061 };
    uint32_t const ces[9] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_264)
{
    // 30D2 0041;	
    // (ヒ) KATAKANA LETTER HI	[3E8C 1CAD | 0020 0020 | 0011 0008 |]

    uint32_t cps[2] = { 0x30D2, 0x0041 };
    uint32_t const ces[9] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_265)
{
    // FF8B 0061;	
    // (ﾋ) HALFWIDTH KATAKANA LETTER HI	[3E8C 1CAD | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8B, 0x0061 };
    uint32_t const ces[9] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_266)
{
    // FF8B 0041;	
    // (ﾋ) HALFWIDTH KATAKANA LETTER HI	[3E8C 1CAD | 0020 0020 | 0012 0008 |]

    uint32_t cps[2] = { 0xFF8B, 0x0041 };
    uint32_t const ces[9] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_267)
{
    // 32EA 0061;	
    // (㋪) CIRCLED KATAKANA HI	[3E8C 1CAD | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32EA, 0x0061 };
    uint32_t const ces[9] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_268)
{
    // 32EA 0041;	
    // (㋪) CIRCLED KATAKANA HI	[3E8C 1CAD | 0020 0020 | 0013 0008 |]

    uint32_t cps[2] = { 0x32EA, 0x0041 };
    uint32_t const ces[9] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_269)
{
    // 3073 0061;	
    // (び) HIRAGANA LETTER BI	[3E8C 1CAD | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3073, 0x0061 };
    uint32_t const ces[11] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_270)
{
    // 3073 0041;	
    // (び) HIRAGANA LETTER BI	[3E8C 1CAD | 0020 0037 0020 | 000E 0002 0008 |]

    uint32_t cps[2] = { 0x3073, 0x0041 };
    uint32_t const ces[11] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_271)
{
    // 30D3 0061;	
    // (ビ) KATAKANA LETTER BI	[3E8C 1CAD | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D3, 0x0061 };
    uint32_t const ces[11] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_272)
{
    // 30D3 0041;	
    // (ビ) KATAKANA LETTER BI	[3E8C 1CAD | 0020 0037 0020 | 0011 0002 0008 |]

    uint32_t cps[2] = { 0x30D3, 0x0041 };
    uint32_t const ces[11] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_273)
{
    // 3074 0061;	
    // (ぴ) HIRAGANA LETTER PI	[3E8C 1CAD | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3074, 0x0061 };
    uint32_t const ces[11] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_274)
{
    // 3074 0041;	
    // (ぴ) HIRAGANA LETTER PI	[3E8C 1CAD | 0020 0038 0020 | 000E 0002 0008 |]

    uint32_t cps[2] = { 0x3074, 0x0041 };
    uint32_t const ces[11] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_275)
{
    // 30D4 0061;	
    // (ピ) KATAKANA LETTER PI	[3E8C 1CAD | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D4, 0x0061 };
    uint32_t const ces[11] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_276)
{
    // 30D4 0041;	
    // (ピ) KATAKANA LETTER PI	[3E8C 1CAD | 0020 0038 0020 | 0011 0002 0008 |]

    uint32_t cps[2] = { 0x30D4, 0x0041 };
    uint32_t const ces[11] = { 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_277)
{
    // 3072 0062;	
    // (ひ) HIRAGANA LETTER HI	[3E8C 1CC6 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x3072, 0x0062 };
    uint32_t const ces[9] = { 0x3E8C, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_278)
{
    // 31F6 0062;	
    // (ㇶ) KATAKANA LETTER SMALL HI	[3E8C 1CC6 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F6, 0x0062 };
    uint32_t const ces[9] = { 0x3E8C, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_279)
{
    // 30D2 0062;	
    // (ヒ) KATAKANA LETTER HI	[3E8C 1CC6 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30D2, 0x0062 };
    uint32_t const ces[9] = { 0x3E8C, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_280)
{
    // FF8B 0062;	
    // (ﾋ) HALFWIDTH KATAKANA LETTER HI	[3E8C 1CC6 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8B, 0x0062 };
    uint32_t const ces[9] = { 0x3E8C, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_281)
{
    // 32EA 0062;	
    // (㋪) CIRCLED KATAKANA HI	[3E8C 1CC6 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32EA, 0x0062 };
    uint32_t const ces[9] = { 0x3E8C, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_282)
{
    // 3073 0062;	
    // (び) HIRAGANA LETTER BI	[3E8C 1CC6 | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3073, 0x0062 };
    uint32_t const ces[11] = { 0x3E8C, 0x1CC6, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_283)
{
    // 30D3 0062;	
    // (ビ) KATAKANA LETTER BI	[3E8C 1CC6 | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D3, 0x0062 };
    uint32_t const ces[11] = { 0x3E8C, 0x1CC6, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_284)
{
    // 3074 0062;	
    // (ぴ) HIRAGANA LETTER PI	[3E8C 1CC6 | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3074, 0x0062 };
    uint32_t const ces[11] = { 0x3E8C, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_285)
{
    // 30D4 0062;	
    // (ピ) KATAKANA LETTER PI	[3E8C 1CC6 | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D4, 0x0062 };
    uint32_t const ces[11] = { 0x3E8C, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_286)
{
    // 332E 0021;	
    // (㌮) SQUARE PIASUTORU	[3E8C 3E71 3E7E 3E85 3E9A 0261 | 0020 0038 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332E, 0x0021 };
    uint32_t const ces[23] = { 0x3E8C, 0x3E71, 0x3E7E, 0x3E85, 0x3E9A, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_287)
{
    // 332E 003F;	
    // (㌮) SQUARE PIASUTORU	[3E8C 3E71 3E7E 3E85 3E9A 0267 | 0020 0038 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332E, 0x003F };
    uint32_t const ces[23] = { 0x3E8C, 0x3E71, 0x3E7E, 0x3E85, 0x3E9A, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_288)
{
    // 332E 0061;	
    // (㌮) SQUARE PIASUTORU	[3E8C 3E71 3E7E 3E85 3E9A 1CAD | 0020 0038 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332E, 0x0061 };
    uint32_t const ces[23] = { 0x3E8C, 0x3E71, 0x3E7E, 0x3E85, 0x3E9A, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_289)
{
    // 332E 0041;	
    // (㌮) SQUARE PIASUTORU	[3E8C 3E71 3E7E 3E85 3E9A 1CAD | 0020 0038 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x332E, 0x0041 };
    uint32_t const ces[23] = { 0x3E8C, 0x3E71, 0x3E7E, 0x3E85, 0x3E9A, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_290)
{
    // 332E 0062;	
    // (㌮) SQUARE PIASUTORU	[3E8C 3E71 3E7E 3E85 3E9A 1CC6 | 0020 0038 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332E, 0x0062 };
    uint32_t const ces[23] = { 0x3E8C, 0x3E71, 0x3E7E, 0x3E85, 0x3E9A, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_291)
{
    // 332F 0021;	
    // (㌯) SQUARE PIKURU	[3E8C 3E79 3E9A 0261 | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332F, 0x0021 };
    uint32_t const ces[17] = { 0x3E8C, 0x3E79, 0x3E9A, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_292)
{
    // 332F 003F;	
    // (㌯) SQUARE PIKURU	[3E8C 3E79 3E9A 0267 | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332F, 0x003F };
    uint32_t const ces[17] = { 0x3E8C, 0x3E79, 0x3E9A, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_293)
{
    // 332F 0061;	
    // (㌯) SQUARE PIKURU	[3E8C 3E79 3E9A 1CAD | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332F, 0x0061 };
    uint32_t const ces[17] = { 0x3E8C, 0x3E79, 0x3E9A, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_294)
{
    // 332F 0041;	
    // (㌯) SQUARE PIKURU	[3E8C 3E79 3E9A 1CAD | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x332F, 0x0041 };
    uint32_t const ces[17] = { 0x3E8C, 0x3E79, 0x3E9A, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_295)
{
    // 332F 0062;	
    // (㌯) SQUARE PIKURU	[3E8C 3E79 3E9A 1CC6 | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x332F, 0x0062 };
    uint32_t const ces[17] = { 0x3E8C, 0x3E79, 0x3E9A, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_296)
{
    // 3330 0021;	
    // (㌰) SQUARE PIKO	[3E8C 3E7B 0261 | 0020 0038 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3330, 0x0021 };
    uint32_t const ces[14] = { 0x3E8C, 0x3E7B, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_297)
{
    // 3330 003F;	
    // (㌰) SQUARE PIKO	[3E8C 3E7B 0267 | 0020 0038 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3330, 0x003F };
    uint32_t const ces[14] = { 0x3E8C, 0x3E7B, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_298)
{
    // 3330 0061;	
    // (㌰) SQUARE PIKO	[3E8C 3E7B 1CAD | 0020 0038 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3330, 0x0061 };
    uint32_t const ces[14] = { 0x3E8C, 0x3E7B, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_299)
{
    // 3330 0041;	
    // (㌰) SQUARE PIKO	[3E8C 3E7B 1CAD | 0020 0038 0020 0020 | 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x3330, 0x0041 };
    uint32_t const ces[14] = { 0x3E8C, 0x3E7B, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_300)
{
    // 3330 0062;	
    // (㌰) SQUARE PIKO	[3E8C 3E7B 1CC6 | 0020 0038 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3330, 0x0062 };
    uint32_t const ces[14] = { 0x3E8C, 0x3E7B, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_301)
{
    // 3331 0021;	
    // (㌱) SQUARE BIRU	[3E8C 3E9A 0261 | 0020 0037 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3331, 0x0021 };
    uint32_t const ces[14] = { 0x3E8C, 0x3E9A, 0x0261, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_302)
{
    // 3331 003F;	
    // (㌱) SQUARE BIRU	[3E8C 3E9A 0267 | 0020 0037 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3331, 0x003F };
    uint32_t const ces[14] = { 0x3E8C, 0x3E9A, 0x0267, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_303)
{
    // 3331 0061;	
    // (㌱) SQUARE BIRU	[3E8C 3E9A 1CAD | 0020 0037 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3331, 0x0061 };
    uint32_t const ces[14] = { 0x3E8C, 0x3E9A, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_304)
{
    // 3331 0041;	
    // (㌱) SQUARE BIRU	[3E8C 3E9A 1CAD | 0020 0037 0020 0020 | 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x3331, 0x0041 };
    uint32_t const ces[14] = { 0x3E8C, 0x3E9A, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_305)
{
    // 3331 0062;	
    // (㌱) SQUARE BIRU	[3E8C 3E9A 1CC6 | 0020 0037 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3331, 0x0062 };
    uint32_t const ces[14] = { 0x3E8C, 0x3E9A, 0x1CC6, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_306)
{
    // 3075 0334 3099;	
    // (ふ̴) HIRAGANA LETTER HU, COMBINING TILDE OVERLAY	[3E8D | 0020 004A 0037 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x3075, 0x0334, 0x3099 };
    uint32_t const ces[10] = { 0x3E8D, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_307)
{
    // 3075 3099 0334;	
    // (ぶ) HIRAGANA LETTER HU, COMBINING KATAKANA-HIRAGANA VOICED SOUND MARK	[3E8D | 0020 004A 0037 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x3075, 0x3099, 0x0334 };
    uint32_t const ces[10] = { 0x3E8D, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_308)
{
    // 3076 0334;	
    // (ぶ) HIRAGANA LETTER BU	[3E8D | 0020 004A 0037 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3076, 0x0334 };
    uint32_t const ces[10] = { 0x3E8D, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_309)
{
    // 30D5 0334 3099;	
    // (フ̴) KATAKANA LETTER HU, COMBINING TILDE OVERLAY	[3E8D | 0020 004A 0037 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30D5, 0x0334, 0x3099 };
    uint32_t const ces[10] = { 0x3E8D, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_310)
{
    // 30D5 3099 0334;	
    // (ブ) KATAKANA LETTER HU, COMBINING KATAKANA-HIRAGANA VOICED SOUND MARK	[3E8D | 0020 004A 0037 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30D5, 0x3099, 0x0334 };
    uint32_t const ces[10] = { 0x3E8D, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_311)
{
    // 30D6 0334;	
    // (ブ) KATAKANA LETTER BU	[3E8D | 0020 004A 0037 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D6, 0x0334 };
    uint32_t const ces[10] = { 0x3E8D, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_312)
{
    // 3075 0334 309A;	
    // (ふ̴) HIRAGANA LETTER HU, COMBINING TILDE OVERLAY	[3E8D | 0020 004A 0038 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x3075, 0x0334, 0x309A };
    uint32_t const ces[10] = { 0x3E8D, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_313)
{
    // 3075 309A 0334;	
    // (ぷ) HIRAGANA LETTER HU, COMBINING KATAKANA-HIRAGANA SEMI-VOICED SOUND MARK	[3E8D | 0020 004A 0038 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x3075, 0x309A, 0x0334 };
    uint32_t const ces[10] = { 0x3E8D, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_314)
{
    // 3077 0334;	
    // (ぷ) HIRAGANA LETTER PU	[3E8D | 0020 004A 0038 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3077, 0x0334 };
    uint32_t const ces[10] = { 0x3E8D, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_315)
{
    // 30D5 0334 309A;	
    // (フ̴) KATAKANA LETTER HU, COMBINING TILDE OVERLAY	[3E8D | 0020 004A 0038 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30D5, 0x0334, 0x309A };
    uint32_t const ces[10] = { 0x3E8D, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_316)
{
    // 30D5 309A 0334;	
    // (プ) KATAKANA LETTER HU, COMBINING KATAKANA-HIRAGANA SEMI-VOICED SOUND MARK	[3E8D | 0020 004A 0038 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30D5, 0x309A, 0x0334 };
    uint32_t const ces[10] = { 0x3E8D, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_317)
{
    // 30D7 0334;	
    // (プ) KATAKANA LETTER PU	[3E8D | 0020 004A 0038 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D7, 0x0334 };
    uint32_t const ces[10] = { 0x3E8D, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_318)
{
    // 3075 0021;	
    // (ふ) HIRAGANA LETTER HU	[3E8D 0261 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x3075, 0x0021 };
    uint32_t const ces[9] = { 0x3E8D, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_319)
{
    // 31F7 0021;	
    // (ㇷ) KATAKANA LETTER SMALL HU	[3E8D 0261 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F7, 0x0021 };
    uint32_t const ces[9] = { 0x3E8D, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_320)
{
    // 30D5 0021;	
    // (フ) KATAKANA LETTER HU	[3E8D 0261 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30D5, 0x0021 };
    uint32_t const ces[9] = { 0x3E8D, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_321)
{
    // FF8C 0021;	
    // (ﾌ) HALFWIDTH KATAKANA LETTER HU	[3E8D 0261 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8C, 0x0021 };
    uint32_t const ces[9] = { 0x3E8D, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_322)
{
    // 32EB 0021;	
    // (㋫) CIRCLED KATAKANA HU	[3E8D 0261 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32EB, 0x0021 };
    uint32_t const ces[9] = { 0x3E8D, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_323)
{
    // 3076 0021;	
    // (ぶ) HIRAGANA LETTER BU	[3E8D 0261 | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3076, 0x0021 };
    uint32_t const ces[11] = { 0x3E8D, 0x0261, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_324)
{
    // 30D6 0021;	
    // (ブ) KATAKANA LETTER BU	[3E8D 0261 | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D6, 0x0021 };
    uint32_t const ces[11] = { 0x3E8D, 0x0261, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_325)
{
    // 3077 0021;	
    // (ぷ) HIRAGANA LETTER PU	[3E8D 0261 | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3077, 0x0021 };
    uint32_t const ces[11] = { 0x3E8D, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_326)
{
    // 30D7 0021;	
    // (プ) KATAKANA LETTER PU	[3E8D 0261 | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D7, 0x0021 };
    uint32_t const ces[11] = { 0x3E8D, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_327)
{
    // 3075 003F;	
    // (ふ) HIRAGANA LETTER HU	[3E8D 0267 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x3075, 0x003F };
    uint32_t const ces[9] = { 0x3E8D, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_328)
{
    // 31F7 003F;	
    // (ㇷ) KATAKANA LETTER SMALL HU	[3E8D 0267 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F7, 0x003F };
    uint32_t const ces[9] = { 0x3E8D, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_329)
{
    // 30D5 003F;	
    // (フ) KATAKANA LETTER HU	[3E8D 0267 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30D5, 0x003F };
    uint32_t const ces[9] = { 0x3E8D, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_330)
{
    // FF8C 003F;	
    // (ﾌ) HALFWIDTH KATAKANA LETTER HU	[3E8D 0267 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8C, 0x003F };
    uint32_t const ces[9] = { 0x3E8D, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_331)
{
    // 32EB 003F;	
    // (㋫) CIRCLED KATAKANA HU	[3E8D 0267 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32EB, 0x003F };
    uint32_t const ces[9] = { 0x3E8D, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_332)
{
    // 3076 003F;	
    // (ぶ) HIRAGANA LETTER BU	[3E8D 0267 | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3076, 0x003F };
    uint32_t const ces[11] = { 0x3E8D, 0x0267, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_333)
{
    // 30D6 003F;	
    // (ブ) KATAKANA LETTER BU	[3E8D 0267 | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D6, 0x003F };
    uint32_t const ces[11] = { 0x3E8D, 0x0267, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_334)
{
    // 3077 003F;	
    // (ぷ) HIRAGANA LETTER PU	[3E8D 0267 | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3077, 0x003F };
    uint32_t const ces[11] = { 0x3E8D, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_335)
{
    // 30D7 003F;	
    // (プ) KATAKANA LETTER PU	[3E8D 0267 | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D7, 0x003F };
    uint32_t const ces[11] = { 0x3E8D, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_336)
{
    // 3075 0061;	
    // (ふ) HIRAGANA LETTER HU	[3E8D 1CAD | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x3075, 0x0061 };
    uint32_t const ces[9] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_337)
{
    // 3075 0041;	
    // (ふ) HIRAGANA LETTER HU	[3E8D 1CAD | 0020 0020 | 000E 0008 |]

    uint32_t cps[2] = { 0x3075, 0x0041 };
    uint32_t const ces[9] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_338)
{
    // 31F7 0061;	
    // (ㇷ) KATAKANA LETTER SMALL HU	[3E8D 1CAD | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F7, 0x0061 };
    uint32_t const ces[9] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_339)
{
    // 31F7 0041;	
    // (ㇷ) KATAKANA LETTER SMALL HU	[3E8D 1CAD | 0020 0020 | 000F 0008 |]

    uint32_t cps[2] = { 0x31F7, 0x0041 };
    uint32_t const ces[9] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_340)
{
    // 30D5 0061;	
    // (フ) KATAKANA LETTER HU	[3E8D 1CAD | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30D5, 0x0061 };
    uint32_t const ces[9] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_341)
{
    // 30D5 0041;	
    // (フ) KATAKANA LETTER HU	[3E8D 1CAD | 0020 0020 | 0011 0008 |]

    uint32_t cps[2] = { 0x30D5, 0x0041 };
    uint32_t const ces[9] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_342)
{
    // FF8C 0061;	
    // (ﾌ) HALFWIDTH KATAKANA LETTER HU	[3E8D 1CAD | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8C, 0x0061 };
    uint32_t const ces[9] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_343)
{
    // FF8C 0041;	
    // (ﾌ) HALFWIDTH KATAKANA LETTER HU	[3E8D 1CAD | 0020 0020 | 0012 0008 |]

    uint32_t cps[2] = { 0xFF8C, 0x0041 };
    uint32_t const ces[9] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_344)
{
    // 32EB 0061;	
    // (㋫) CIRCLED KATAKANA HU	[3E8D 1CAD | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32EB, 0x0061 };
    uint32_t const ces[9] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_345)
{
    // 32EB 0041;	
    // (㋫) CIRCLED KATAKANA HU	[3E8D 1CAD | 0020 0020 | 0013 0008 |]

    uint32_t cps[2] = { 0x32EB, 0x0041 };
    uint32_t const ces[9] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_346)
{
    // 3076 0061;	
    // (ぶ) HIRAGANA LETTER BU	[3E8D 1CAD | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3076, 0x0061 };
    uint32_t const ces[11] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_347)
{
    // 3076 0041;	
    // (ぶ) HIRAGANA LETTER BU	[3E8D 1CAD | 0020 0037 0020 | 000E 0002 0008 |]

    uint32_t cps[2] = { 0x3076, 0x0041 };
    uint32_t const ces[11] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_348)
{
    // 30D6 0061;	
    // (ブ) KATAKANA LETTER BU	[3E8D 1CAD | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D6, 0x0061 };
    uint32_t const ces[11] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_349)
{
    // 30D6 0041;	
    // (ブ) KATAKANA LETTER BU	[3E8D 1CAD | 0020 0037 0020 | 0011 0002 0008 |]

    uint32_t cps[2] = { 0x30D6, 0x0041 };
    uint32_t const ces[11] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_350)
{
    // 3077 0061;	
    // (ぷ) HIRAGANA LETTER PU	[3E8D 1CAD | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3077, 0x0061 };
    uint32_t const ces[11] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_351)
{
    // 3077 0041;	
    // (ぷ) HIRAGANA LETTER PU	[3E8D 1CAD | 0020 0038 0020 | 000E 0002 0008 |]

    uint32_t cps[2] = { 0x3077, 0x0041 };
    uint32_t const ces[11] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_352)
{
    // 30D7 0061;	
    // (プ) KATAKANA LETTER PU	[3E8D 1CAD | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D7, 0x0061 };
    uint32_t const ces[11] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_353)
{
    // 30D7 0041;	
    // (プ) KATAKANA LETTER PU	[3E8D 1CAD | 0020 0038 0020 | 0011 0002 0008 |]

    uint32_t cps[2] = { 0x30D7, 0x0041 };
    uint32_t const ces[11] = { 0x3E8D, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_354)
{
    // 3075 0062;	
    // (ふ) HIRAGANA LETTER HU	[3E8D 1CC6 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x3075, 0x0062 };
    uint32_t const ces[9] = { 0x3E8D, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_355)
{
    // 31F7 0062;	
    // (ㇷ) KATAKANA LETTER SMALL HU	[3E8D 1CC6 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F7, 0x0062 };
    uint32_t const ces[9] = { 0x3E8D, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_356)
{
    // 30D5 0062;	
    // (フ) KATAKANA LETTER HU	[3E8D 1CC6 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30D5, 0x0062 };
    uint32_t const ces[9] = { 0x3E8D, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_357)
{
    // FF8C 0062;	
    // (ﾌ) HALFWIDTH KATAKANA LETTER HU	[3E8D 1CC6 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8C, 0x0062 };
    uint32_t const ces[9] = { 0x3E8D, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_358)
{
    // 32EB 0062;	
    // (㋫) CIRCLED KATAKANA HU	[3E8D 1CC6 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32EB, 0x0062 };
    uint32_t const ces[9] = { 0x3E8D, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_359)
{
    // 3076 0062;	
    // (ぶ) HIRAGANA LETTER BU	[3E8D 1CC6 | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3076, 0x0062 };
    uint32_t const ces[11] = { 0x3E8D, 0x1CC6, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_360)
{
    // 30D6 0062;	
    // (ブ) KATAKANA LETTER BU	[3E8D 1CC6 | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D6, 0x0062 };
    uint32_t const ces[11] = { 0x3E8D, 0x1CC6, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_361)
{
    // 3077 0062;	
    // (ぷ) HIRAGANA LETTER PU	[3E8D 1CC6 | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3077, 0x0062 };
    uint32_t const ces[11] = { 0x3E8D, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_362)
{
    // 30D7 0062;	
    // (プ) KATAKANA LETTER PU	[3E8D 1CC6 | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D7, 0x0062 };
    uint32_t const ces[11] = { 0x3E8D, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_363)
{
    // 3332 0021;	
    // (㌲) SQUARE HUARADDO	[3E8D 3E71 3E98 3E83 3E85 0261 | 0020 0020 0020 0020 0020 0037 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3332, 0x0021 };
    uint32_t const ces[23] = { 0x3E8D, 0x3E71, 0x3E98, 0x3E83, 0x3E85, 0x0261, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0037, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_364)
{
    // 3332 003F;	
    // (㌲) SQUARE HUARADDO	[3E8D 3E71 3E98 3E83 3E85 0267 | 0020 0020 0020 0020 0020 0037 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3332, 0x003F };
    uint32_t const ces[23] = { 0x3E8D, 0x3E71, 0x3E98, 0x3E83, 0x3E85, 0x0267, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0037, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_365)
{
    // 3332 0061;	
    // (㌲) SQUARE HUARADDO	[3E8D 3E71 3E98 3E83 3E85 1CAD | 0020 0020 0020 0020 0020 0037 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3332, 0x0061 };
    uint32_t const ces[23] = { 0x3E8D, 0x3E71, 0x3E98, 0x3E83, 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0037, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_366)
{
    // 3332 0041;	
    // (㌲) SQUARE HUARADDO	[3E8D 3E71 3E98 3E83 3E85 1CAD | 0020 0020 0020 0020 0020 0037 0020 | 001C 001C 001C 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x3332, 0x0041 };
    uint32_t const ces[23] = { 0x3E8D, 0x3E71, 0x3E98, 0x3E83, 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0037, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_367)
{
    // 3332 0062;	
    // (㌲) SQUARE HUARADDO	[3E8D 3E71 3E98 3E83 3E85 1CC6 | 0020 0020 0020 0020 0020 0037 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3332, 0x0062 };
    uint32_t const ces[23] = { 0x3E8D, 0x3E71, 0x3E98, 0x3E83, 0x3E85, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0037, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_368)
{
    // 3333 0021;	
    // (㌳) SQUARE HUIITO	[3E8D 3E72 1C73 3E85 0261 | 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3333, 0x0021 };
    uint32_t const ces[18] = { 0x3E8D, 0x3E72, 0x1C73, 0x3E85, 0x0261, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 18);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 18))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_369)
{
    // 3333 003F;	
    // (㌳) SQUARE HUIITO	[3E8D 3E72 1C73 3E85 0267 | 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3333, 0x003F };
    uint32_t const ces[18] = { 0x3E8D, 0x3E72, 0x1C73, 0x3E85, 0x0267, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 18);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 18))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_370)
{
    // 3333 0061;	
    // (㌳) SQUARE HUIITO	[3E8D 3E72 1C73 3E85 1CAD | 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3333, 0x0061 };
    uint32_t const ces[18] = { 0x3E8D, 0x3E72, 0x1C73, 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 18);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 18))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_371)
{
    // 3333 0041;	
    // (㌳) SQUARE HUIITO	[3E8D 3E72 1C73 3E85 1CAD | 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x3333, 0x0041 };
    uint32_t const ces[18] = { 0x3E8D, 0x3E72, 0x1C73, 0x3E85, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 18);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 18))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_372)
{
    // 3333 0062;	
    // (㌳) SQUARE HUIITO	[3E8D 3E72 1C73 3E85 1CC6 | 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3333, 0x0062 };
    uint32_t const ces[18] = { 0x3E8D, 0x3E72, 0x1C73, 0x3E85, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 18);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 18))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_373)
{
    // 3334 0021;	
    // (㌴) SQUARE BUSSYERU	[3E8D 3E83 3E7D 3E75 3E9A 0261 | 0020 0037 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3334, 0x0021 };
    uint32_t const ces[23] = { 0x3E8D, 0x3E83, 0x3E7D, 0x3E75, 0x3E9A, 0x0261, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_374)
{
    // 3334 003F;	
    // (㌴) SQUARE BUSSYERU	[3E8D 3E83 3E7D 3E75 3E9A 0267 | 0020 0037 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3334, 0x003F };
    uint32_t const ces[23] = { 0x3E8D, 0x3E83, 0x3E7D, 0x3E75, 0x3E9A, 0x0267, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_375)
{
    // 3334 0061;	
    // (㌴) SQUARE BUSSYERU	[3E8D 3E83 3E7D 3E75 3E9A 1CAD | 0020 0037 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3334, 0x0061 };
    uint32_t const ces[23] = { 0x3E8D, 0x3E83, 0x3E7D, 0x3E75, 0x3E9A, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_376)
{
    // 3334 0041;	
    // (㌴) SQUARE BUSSYERU	[3E8D 3E83 3E7D 3E75 3E9A 1CAD | 0020 0037 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x3334, 0x0041 };
    uint32_t const ces[23] = { 0x3E8D, 0x3E83, 0x3E7D, 0x3E75, 0x3E9A, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_377)
{
    // 3334 0062;	
    // (㌴) SQUARE BUSSYERU	[3E8D 3E83 3E7D 3E75 3E9A 1CC6 | 0020 0037 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3334, 0x0062 };
    uint32_t const ces[23] = { 0x3E8D, 0x3E83, 0x3E7D, 0x3E75, 0x3E9A, 0x1CC6, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 23);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 23))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_378)
{
    // 3335 0021;	
    // (㌵) SQUARE HURAN	[3E8D 3E98 3EA1 0261 | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3335, 0x0021 };
    uint32_t const ces[15] = { 0x3E8D, 0x3E98, 0x3EA1, 0x0261, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_379)
{
    // 3335 003F;	
    // (㌵) SQUARE HURAN	[3E8D 3E98 3EA1 0267 | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3335, 0x003F };
    uint32_t const ces[15] = { 0x3E8D, 0x3E98, 0x3EA1, 0x0267, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_380)
{
    // 3335 0061;	
    // (㌵) SQUARE HURAN	[3E8D 3E98 3EA1 1CAD | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3335, 0x0061 };
    uint32_t const ces[15] = { 0x3E8D, 0x3E98, 0x3EA1, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_381)
{
    // 3335 0041;	
    // (㌵) SQUARE HURAN	[3E8D 3E98 3EA1 1CAD | 0020 0020 0020 0020 | 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x3335, 0x0041 };
    uint32_t const ces[15] = { 0x3E8D, 0x3E98, 0x3EA1, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_382)
{
    // 3335 0062;	
    // (㌵) SQUARE HURAN	[3E8D 3E98 3EA1 1CC6 | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3335, 0x0062 };
    uint32_t const ces[15] = { 0x3E8D, 0x3E98, 0x3EA1, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_383)
{
    // 3078 0334 3099;	
    // (へ̴) HIRAGANA LETTER HE, COMBINING TILDE OVERLAY	[3E8E | 0020 004A 0037 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x3078, 0x0334, 0x3099 };
    uint32_t const ces[10] = { 0x3E8E, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_384)
{
    // 3078 3099 0334;	
    // (べ) HIRAGANA LETTER HE, COMBINING KATAKANA-HIRAGANA VOICED SOUND MARK	[3E8E | 0020 004A 0037 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x3078, 0x3099, 0x0334 };
    uint32_t const ces[10] = { 0x3E8E, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_385)
{
    // 3079 0334;	
    // (べ) HIRAGANA LETTER BE	[3E8E | 0020 004A 0037 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3079, 0x0334 };
    uint32_t const ces[10] = { 0x3E8E, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_386)
{
    // 30D8 0334 3099;	
    // (ヘ̴) KATAKANA LETTER HE, COMBINING TILDE OVERLAY	[3E8E | 0020 004A 0037 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30D8, 0x0334, 0x3099 };
    uint32_t const ces[10] = { 0x3E8E, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_387)
{
    // 30D8 3099 0334;	
    // (ベ) KATAKANA LETTER HE, COMBINING KATAKANA-HIRAGANA VOICED SOUND MARK	[3E8E | 0020 004A 0037 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30D8, 0x3099, 0x0334 };
    uint32_t const ces[10] = { 0x3E8E, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_388)
{
    // 30D9 0334;	
    // (ベ) KATAKANA LETTER BE	[3E8E | 0020 004A 0037 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D9, 0x0334 };
    uint32_t const ces[10] = { 0x3E8E, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_389)
{
    // 3078 0334 309A;	
    // (へ̴) HIRAGANA LETTER HE, COMBINING TILDE OVERLAY	[3E8E | 0020 004A 0038 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x3078, 0x0334, 0x309A };
    uint32_t const ces[10] = { 0x3E8E, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_390)
{
    // 3078 309A 0334;	
    // (ぺ) HIRAGANA LETTER HE, COMBINING KATAKANA-HIRAGANA SEMI-VOICED SOUND MARK	[3E8E | 0020 004A 0038 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x3078, 0x309A, 0x0334 };
    uint32_t const ces[10] = { 0x3E8E, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_391)
{
    // 307A 0334;	
    // (ぺ) HIRAGANA LETTER PE	[3E8E | 0020 004A 0038 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x307A, 0x0334 };
    uint32_t const ces[10] = { 0x3E8E, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_392)
{
    // 30D8 0334 309A;	
    // (ヘ̴) KATAKANA LETTER HE, COMBINING TILDE OVERLAY	[3E8E | 0020 004A 0038 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30D8, 0x0334, 0x309A };
    uint32_t const ces[10] = { 0x3E8E, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_393)
{
    // 30D8 309A 0334;	
    // (ペ) KATAKANA LETTER HE, COMBINING KATAKANA-HIRAGANA SEMI-VOICED SOUND MARK	[3E8E | 0020 004A 0038 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30D8, 0x309A, 0x0334 };
    uint32_t const ces[10] = { 0x3E8E, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_394)
{
    // 30DA 0334;	
    // (ペ) KATAKANA LETTER PE	[3E8E | 0020 004A 0038 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30DA, 0x0334 };
    uint32_t const ces[10] = { 0x3E8E, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_395)
{
    // 3078 0021;	
    // (へ) HIRAGANA LETTER HE	[3E8E 0261 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x3078, 0x0021 };
    uint32_t const ces[9] = { 0x3E8E, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_396)
{
    // 31F8 0021;	
    // (ㇸ) KATAKANA LETTER SMALL HE	[3E8E 0261 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F8, 0x0021 };
    uint32_t const ces[9] = { 0x3E8E, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_397)
{
    // 30D8 0021;	
    // (ヘ) KATAKANA LETTER HE	[3E8E 0261 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30D8, 0x0021 };
    uint32_t const ces[9] = { 0x3E8E, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_398)
{
    // FF8D 0021;	
    // (ﾍ) HALFWIDTH KATAKANA LETTER HE	[3E8E 0261 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8D, 0x0021 };
    uint32_t const ces[9] = { 0x3E8E, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_399)
{
    // 32EC 0021;	
    // (㋬) CIRCLED KATAKANA HE	[3E8E 0261 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32EC, 0x0021 };
    uint32_t const ces[9] = { 0x3E8E, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_400)
{
    // 3079 0021;	
    // (べ) HIRAGANA LETTER BE	[3E8E 0261 | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3079, 0x0021 };
    uint32_t const ces[11] = { 0x3E8E, 0x0261, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_401)
{
    // 30D9 0021;	
    // (ベ) KATAKANA LETTER BE	[3E8E 0261 | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D9, 0x0021 };
    uint32_t const ces[11] = { 0x3E8E, 0x0261, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_402)
{
    // 307A 0021;	
    // (ぺ) HIRAGANA LETTER PE	[3E8E 0261 | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x307A, 0x0021 };
    uint32_t const ces[11] = { 0x3E8E, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_403)
{
    // 30DA 0021;	
    // (ペ) KATAKANA LETTER PE	[3E8E 0261 | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30DA, 0x0021 };
    uint32_t const ces[11] = { 0x3E8E, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_404)
{
    // 3078 003F;	
    // (へ) HIRAGANA LETTER HE	[3E8E 0267 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x3078, 0x003F };
    uint32_t const ces[9] = { 0x3E8E, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_405)
{
    // 31F8 003F;	
    // (ㇸ) KATAKANA LETTER SMALL HE	[3E8E 0267 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F8, 0x003F };
    uint32_t const ces[9] = { 0x3E8E, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_406)
{
    // 30D8 003F;	
    // (ヘ) KATAKANA LETTER HE	[3E8E 0267 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30D8, 0x003F };
    uint32_t const ces[9] = { 0x3E8E, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_407)
{
    // FF8D 003F;	
    // (ﾍ) HALFWIDTH KATAKANA LETTER HE	[3E8E 0267 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8D, 0x003F };
    uint32_t const ces[9] = { 0x3E8E, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_408)
{
    // 32EC 003F;	
    // (㋬) CIRCLED KATAKANA HE	[3E8E 0267 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32EC, 0x003F };
    uint32_t const ces[9] = { 0x3E8E, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_409)
{
    // 3079 003F;	
    // (べ) HIRAGANA LETTER BE	[3E8E 0267 | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3079, 0x003F };
    uint32_t const ces[11] = { 0x3E8E, 0x0267, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_410)
{
    // 30D9 003F;	
    // (ベ) KATAKANA LETTER BE	[3E8E 0267 | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D9, 0x003F };
    uint32_t const ces[11] = { 0x3E8E, 0x0267, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_411)
{
    // 307A 003F;	
    // (ぺ) HIRAGANA LETTER PE	[3E8E 0267 | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x307A, 0x003F };
    uint32_t const ces[11] = { 0x3E8E, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_412)
{
    // 30DA 003F;	
    // (ペ) KATAKANA LETTER PE	[3E8E 0267 | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30DA, 0x003F };
    uint32_t const ces[11] = { 0x3E8E, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_413)
{
    // 333B 0021;	
    // (㌻) SQUARE PEEZI	[3E8E 1C73 3E7D 0261 | 0020 0038 0020 0020 0037 0020 | 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x333B, 0x0021 };
    uint32_t const ces[19] = { 0x3E8E, 0x1C73, 0x3E7D, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0037, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 19);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 19))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_414)
{
    // 333B 003F;	
    // (㌻) SQUARE PEEZI	[3E8E 1C73 3E7D 0267 | 0020 0038 0020 0020 0037 0020 | 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x333B, 0x003F };
    uint32_t const ces[19] = { 0x3E8E, 0x1C73, 0x3E7D, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0037, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 19);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 19))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_415)
{
    // 333B 0061;	
    // (㌻) SQUARE PEEZI	[3E8E 1C73 3E7D 1CAD | 0020 0038 0020 0020 0037 0020 | 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x333B, 0x0061 };
    uint32_t const ces[19] = { 0x3E8E, 0x1C73, 0x3E7D, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0037, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 19);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 19))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_416)
{
    // 333B 0041;	
    // (㌻) SQUARE PEEZI	[3E8E 1C73 3E7D 1CAD | 0020 0038 0020 0020 0037 0020 | 001C 001C 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x333B, 0x0041 };
    uint32_t const ces[19] = { 0x3E8E, 0x1C73, 0x3E7D, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0037, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 19);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 19))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_417)
{
    // 333B 0062;	
    // (㌻) SQUARE PEEZI	[3E8E 1C73 3E7D 1CC6 | 0020 0038 0020 0020 0037 0020 | 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x333B, 0x0062 };
    uint32_t const ces[19] = { 0x3E8E, 0x1C73, 0x3E7D, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0037, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 19);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 19))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_418)
{
    // 333C 0021;	
    // (㌼) SQUARE BEETA	[3E8E 1C73 3E81 0261 | 0020 0037 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x333C, 0x0021 };
    uint32_t const ces[17] = { 0x3E8E, 0x1C73, 0x3E81, 0x0261, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_419)
{
    // 333C 003F;	
    // (㌼) SQUARE BEETA	[3E8E 1C73 3E81 0267 | 0020 0037 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x333C, 0x003F };
    uint32_t const ces[17] = { 0x3E8E, 0x1C73, 0x3E81, 0x0267, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_420)
{
    // 333C 0061;	
    // (㌼) SQUARE BEETA	[3E8E 1C73 3E81 1CAD | 0020 0037 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x333C, 0x0061 };
    uint32_t const ces[17] = { 0x3E8E, 0x1C73, 0x3E81, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_421)
{
    // 333C 0041;	
    // (㌼) SQUARE BEETA	[3E8E 1C73 3E81 1CAD | 0020 0037 0020 0020 0020 | 001C 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x333C, 0x0041 };
    uint32_t const ces[17] = { 0x3E8E, 0x1C73, 0x3E81, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_422)
{
    // 333C 0062;	
    // (㌼) SQUARE BEETA	[3E8E 1C73 3E81 1CC6 | 0020 0037 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x333C, 0x0062 };
    uint32_t const ces[17] = { 0x3E8E, 0x1C73, 0x3E81, 0x1CC6, 0x0000, 0x0020, 0x0037, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_423)
{
    // 3078 0061;	
    // (へ) HIRAGANA LETTER HE	[3E8E 1CAD | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x3078, 0x0061 };
    uint32_t const ces[9] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_424)
{
    // 3078 0041;	
    // (へ) HIRAGANA LETTER HE	[3E8E 1CAD | 0020 0020 | 000E 0008 |]

    uint32_t cps[2] = { 0x3078, 0x0041 };
    uint32_t const ces[9] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_425)
{
    // 31F8 0061;	
    // (ㇸ) KATAKANA LETTER SMALL HE	[3E8E 1CAD | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F8, 0x0061 };
    uint32_t const ces[9] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_426)
{
    // 31F8 0041;	
    // (ㇸ) KATAKANA LETTER SMALL HE	[3E8E 1CAD | 0020 0020 | 000F 0008 |]

    uint32_t cps[2] = { 0x31F8, 0x0041 };
    uint32_t const ces[9] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_427)
{
    // 30D8 0061;	
    // (ヘ) KATAKANA LETTER HE	[3E8E 1CAD | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30D8, 0x0061 };
    uint32_t const ces[9] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_428)
{
    // 30D8 0041;	
    // (ヘ) KATAKANA LETTER HE	[3E8E 1CAD | 0020 0020 | 0011 0008 |]

    uint32_t cps[2] = { 0x30D8, 0x0041 };
    uint32_t const ces[9] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_429)
{
    // FF8D 0061;	
    // (ﾍ) HALFWIDTH KATAKANA LETTER HE	[3E8E 1CAD | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8D, 0x0061 };
    uint32_t const ces[9] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_430)
{
    // FF8D 0041;	
    // (ﾍ) HALFWIDTH KATAKANA LETTER HE	[3E8E 1CAD | 0020 0020 | 0012 0008 |]

    uint32_t cps[2] = { 0xFF8D, 0x0041 };
    uint32_t const ces[9] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_431)
{
    // 32EC 0061;	
    // (㋬) CIRCLED KATAKANA HE	[3E8E 1CAD | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32EC, 0x0061 };
    uint32_t const ces[9] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_432)
{
    // 32EC 0041;	
    // (㋬) CIRCLED KATAKANA HE	[3E8E 1CAD | 0020 0020 | 0013 0008 |]

    uint32_t cps[2] = { 0x32EC, 0x0041 };
    uint32_t const ces[9] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_433)
{
    // 3079 0061;	
    // (べ) HIRAGANA LETTER BE	[3E8E 1CAD | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3079, 0x0061 };
    uint32_t const ces[11] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_434)
{
    // 3079 0041;	
    // (べ) HIRAGANA LETTER BE	[3E8E 1CAD | 0020 0037 0020 | 000E 0002 0008 |]

    uint32_t cps[2] = { 0x3079, 0x0041 };
    uint32_t const ces[11] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_435)
{
    // 30D9 0061;	
    // (ベ) KATAKANA LETTER BE	[3E8E 1CAD | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D9, 0x0061 };
    uint32_t const ces[11] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_436)
{
    // 30D9 0041;	
    // (ベ) KATAKANA LETTER BE	[3E8E 1CAD | 0020 0037 0020 | 0011 0002 0008 |]

    uint32_t cps[2] = { 0x30D9, 0x0041 };
    uint32_t const ces[11] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_437)
{
    // 307A 0061;	
    // (ぺ) HIRAGANA LETTER PE	[3E8E 1CAD | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x307A, 0x0061 };
    uint32_t const ces[11] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_438)
{
    // 307A 0041;	
    // (ぺ) HIRAGANA LETTER PE	[3E8E 1CAD | 0020 0038 0020 | 000E 0002 0008 |]

    uint32_t cps[2] = { 0x307A, 0x0041 };
    uint32_t const ces[11] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_439)
{
    // 30DA 0061;	
    // (ペ) KATAKANA LETTER PE	[3E8E 1CAD | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30DA, 0x0061 };
    uint32_t const ces[11] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_440)
{
    // 30DA 0041;	
    // (ペ) KATAKANA LETTER PE	[3E8E 1CAD | 0020 0038 0020 | 0011 0002 0008 |]

    uint32_t cps[2] = { 0x30DA, 0x0041 };
    uint32_t const ces[11] = { 0x3E8E, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_441)
{
    // 3078 0062;	
    // (へ) HIRAGANA LETTER HE	[3E8E 1CC6 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x3078, 0x0062 };
    uint32_t const ces[9] = { 0x3E8E, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_442)
{
    // 31F8 0062;	
    // (ㇸ) KATAKANA LETTER SMALL HE	[3E8E 1CC6 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F8, 0x0062 };
    uint32_t const ces[9] = { 0x3E8E, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_443)
{
    // 30D8 0062;	
    // (ヘ) KATAKANA LETTER HE	[3E8E 1CC6 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30D8, 0x0062 };
    uint32_t const ces[9] = { 0x3E8E, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_444)
{
    // FF8D 0062;	
    // (ﾍ) HALFWIDTH KATAKANA LETTER HE	[3E8E 1CC6 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8D, 0x0062 };
    uint32_t const ces[9] = { 0x3E8E, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_445)
{
    // 32EC 0062;	
    // (㋬) CIRCLED KATAKANA HE	[3E8E 1CC6 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32EC, 0x0062 };
    uint32_t const ces[9] = { 0x3E8E, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_446)
{
    // 3079 0062;	
    // (べ) HIRAGANA LETTER BE	[3E8E 1CC6 | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x3079, 0x0062 };
    uint32_t const ces[11] = { 0x3E8E, 0x1CC6, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_447)
{
    // 30D9 0062;	
    // (ベ) KATAKANA LETTER BE	[3E8E 1CC6 | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30D9, 0x0062 };
    uint32_t const ces[11] = { 0x3E8E, 0x1CC6, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_448)
{
    // 307A 0062;	
    // (ぺ) HIRAGANA LETTER PE	[3E8E 1CC6 | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x307A, 0x0062 };
    uint32_t const ces[11] = { 0x3E8E, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_449)
{
    // 30DA 0062;	
    // (ペ) KATAKANA LETTER PE	[3E8E 1CC6 | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30DA, 0x0062 };
    uint32_t const ces[11] = { 0x3E8E, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_450)
{
    // 3336 0021;	
    // (㌶) SQUARE HEKUTAARU	[3E8E 3E79 3E81 1C73 3E9A 0261 | 0020 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3336, 0x0021 };
    uint32_t const ces[21] = { 0x3E8E, 0x3E79, 0x3E81, 0x1C73, 0x3E9A, 0x0261, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 21);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 21))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_451)
{
    // 3336 003F;	
    // (㌶) SQUARE HEKUTAARU	[3E8E 3E79 3E81 1C73 3E9A 0267 | 0020 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3336, 0x003F };
    uint32_t const ces[21] = { 0x3E8E, 0x3E79, 0x3E81, 0x1C73, 0x3E9A, 0x0267, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 21);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 21))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_452)
{
    // 3336 0061;	
    // (㌶) SQUARE HEKUTAARU	[3E8E 3E79 3E81 1C73 3E9A 1CAD | 0020 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3336, 0x0061 };
    uint32_t const ces[21] = { 0x3E8E, 0x3E79, 0x3E81, 0x1C73, 0x3E9A, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 21);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 21))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_453)
{
    // 3336 0041;	
    // (㌶) SQUARE HEKUTAARU	[3E8E 3E79 3E81 1C73 3E9A 1CAD | 0020 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x3336, 0x0041 };
    uint32_t const ces[21] = { 0x3E8E, 0x3E79, 0x3E81, 0x1C73, 0x3E9A, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 21);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 21))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_454)
{
    // 3336 0062;	
    // (㌶) SQUARE HEKUTAARU	[3E8E 3E79 3E81 1C73 3E9A 1CC6 | 0020 0020 0020 0020 0020 0020 | 001C 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3336, 0x0062 };
    uint32_t const ces[21] = { 0x3E8E, 0x3E79, 0x3E81, 0x1C73, 0x3E9A, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 21);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 21))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_455)
{
    // 3337 0021;	
    // (㌷) SQUARE PESO	[3E8E 3E80 0261 | 0020 0038 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3337, 0x0021 };
    uint32_t const ces[14] = { 0x3E8E, 0x3E80, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_456)
{
    // 3337 003F;	
    // (㌷) SQUARE PESO	[3E8E 3E80 0267 | 0020 0038 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3337, 0x003F };
    uint32_t const ces[14] = { 0x3E8E, 0x3E80, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_457)
{
    // 3337 0061;	
    // (㌷) SQUARE PESO	[3E8E 3E80 1CAD | 0020 0038 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3337, 0x0061 };
    uint32_t const ces[14] = { 0x3E8E, 0x3E80, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_458)
{
    // 3337 0041;	
    // (㌷) SQUARE PESO	[3E8E 3E80 1CAD | 0020 0038 0020 0020 | 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x3337, 0x0041 };
    uint32_t const ces[14] = { 0x3E8E, 0x3E80, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_459)
{
    // 3337 0062;	
    // (㌷) SQUARE PESO	[3E8E 3E80 1CC6 | 0020 0038 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3337, 0x0062 };
    uint32_t const ces[14] = { 0x3E8E, 0x3E80, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 14);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 14))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_460)
{
    // 3338 0021;	
    // (㌸) SQUARE PENIHI	[3E8E 3E87 3E8C 0261 | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3338, 0x0021 };
    uint32_t const ces[17] = { 0x3E8E, 0x3E87, 0x3E8C, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_461)
{
    // 3338 003F;	
    // (㌸) SQUARE PENIHI	[3E8E 3E87 3E8C 0267 | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3338, 0x003F };
    uint32_t const ces[17] = { 0x3E8E, 0x3E87, 0x3E8C, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_462)
{
    // 3338 0061;	
    // (㌸) SQUARE PENIHI	[3E8E 3E87 3E8C 1CAD | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3338, 0x0061 };
    uint32_t const ces[17] = { 0x3E8E, 0x3E87, 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_463)
{
    // 3338 0041;	
    // (㌸) SQUARE PENIHI	[3E8E 3E87 3E8C 1CAD | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x3338, 0x0041 };
    uint32_t const ces[17] = { 0x3E8E, 0x3E87, 0x3E8C, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_464)
{
    // 3338 0062;	
    // (㌸) SQUARE PENIHI	[3E8E 3E87 3E8C 1CC6 | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3338, 0x0062 };
    uint32_t const ces[17] = { 0x3E8E, 0x3E87, 0x3E8C, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_465)
{
    // 3339 0021;	
    // (㌹) SQUARE HERUTU	[3E8E 3E9A 3E83 0261 | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3339, 0x0021 };
    uint32_t const ces[15] = { 0x3E8E, 0x3E9A, 0x3E83, 0x0261, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_466)
{
    // 3339 003F;	
    // (㌹) SQUARE HERUTU	[3E8E 3E9A 3E83 0267 | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3339, 0x003F };
    uint32_t const ces[15] = { 0x3E8E, 0x3E9A, 0x3E83, 0x0267, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_467)
{
    // 3339 0061;	
    // (㌹) SQUARE HERUTU	[3E8E 3E9A 3E83 1CAD | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3339, 0x0061 };
    uint32_t const ces[15] = { 0x3E8E, 0x3E9A, 0x3E83, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_468)
{
    // 3339 0041;	
    // (㌹) SQUARE HERUTU	[3E8E 3E9A 3E83 1CAD | 0020 0020 0020 0020 | 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x3339, 0x0041 };
    uint32_t const ces[15] = { 0x3E8E, 0x3E9A, 0x3E83, 0x1CAD, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_469)
{
    // 3339 0062;	
    // (㌹) SQUARE HERUTU	[3E8E 3E9A 3E83 1CC6 | 0020 0020 0020 0020 | 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x3339, 0x0062 };
    uint32_t const ces[15] = { 0x3E8E, 0x3E9A, 0x3E83, 0x1CC6, 0x0000, 0x0020, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 15);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 15))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_470)
{
    // 333A 0021;	
    // (㌺) SQUARE PENSU	[3E8E 3EA1 3E7E 0261 | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x333A, 0x0021 };
    uint32_t const ces[17] = { 0x3E8E, 0x3EA1, 0x3E7E, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_471)
{
    // 333A 003F;	
    // (㌺) SQUARE PENSU	[3E8E 3EA1 3E7E 0267 | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x333A, 0x003F };
    uint32_t const ces[17] = { 0x3E8E, 0x3EA1, 0x3E7E, 0x0267, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_472)
{
    // 333A 0061;	
    // (㌺) SQUARE PENSU	[3E8E 3EA1 3E7E 1CAD | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x333A, 0x0061 };
    uint32_t const ces[17] = { 0x3E8E, 0x3EA1, 0x3E7E, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_473)
{
    // 333A 0041;	
    // (㌺) SQUARE PENSU	[3E8E 3EA1 3E7E 1CAD | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0008 |]

    uint32_t cps[2] = { 0x333A, 0x0041 };
    uint32_t const ces[17] = { 0x3E8E, 0x3EA1, 0x3E7E, 0x1CAD, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0008, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_474)
{
    // 333A 0062;	
    // (㌺) SQUARE PENSU	[3E8E 3EA1 3E7E 1CC6 | 0020 0038 0020 0020 0020 | 001C 001C 001C 001C 0002 |]

    uint32_t cps[2] = { 0x333A, 0x0062 };
    uint32_t const ces[17] = { 0x3E8E, 0x3EA1, 0x3E7E, 0x1CC6, 0x0000, 0x0020, 0x0038, 0x0020, 0x0020, 0x0020, 0x0000, 0x001C, 0x001C, 0x001C, 0x001C, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 17);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 17))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_475)
{
    // 307B 0334 3099;	
    // (ほ̴) HIRAGANA LETTER HO, COMBINING TILDE OVERLAY	[3E8F | 0020 004A 0037 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x307B, 0x0334, 0x3099 };
    uint32_t const ces[10] = { 0x3E8F, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_476)
{
    // 307B 3099 0334;	
    // (ぼ) HIRAGANA LETTER HO, COMBINING KATAKANA-HIRAGANA VOICED SOUND MARK	[3E8F | 0020 004A 0037 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x307B, 0x3099, 0x0334 };
    uint32_t const ces[10] = { 0x3E8F, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_477)
{
    // 307C 0334;	
    // (ぼ) HIRAGANA LETTER BO	[3E8F | 0020 004A 0037 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x307C, 0x0334 };
    uint32_t const ces[10] = { 0x3E8F, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_478)
{
    // 30DB 0334 3099;	
    // (ホ̴) KATAKANA LETTER HO, COMBINING TILDE OVERLAY	[3E8F | 0020 004A 0037 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30DB, 0x0334, 0x3099 };
    uint32_t const ces[10] = { 0x3E8F, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_479)
{
    // 30DB 3099 0334;	
    // (ボ) KATAKANA LETTER HO, COMBINING KATAKANA-HIRAGANA VOICED SOUND MARK	[3E8F | 0020 004A 0037 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30DB, 0x3099, 0x0334 };
    uint32_t const ces[10] = { 0x3E8F, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_480)
{
    // 30DC 0334;	
    // (ボ) KATAKANA LETTER BO	[3E8F | 0020 004A 0037 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30DC, 0x0334 };
    uint32_t const ces[10] = { 0x3E8F, 0x0000, 0x0020, 0x004A, 0x0037, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_481)
{
    // 307B 0334 309A;	
    // (ほ̴) HIRAGANA LETTER HO, COMBINING TILDE OVERLAY	[3E8F | 0020 004A 0038 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x307B, 0x0334, 0x309A };
    uint32_t const ces[10] = { 0x3E8F, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_482)
{
    // 307B 309A 0334;	
    // (ぽ) HIRAGANA LETTER HO, COMBINING KATAKANA-HIRAGANA SEMI-VOICED SOUND MARK	[3E8F | 0020 004A 0038 | 000E 0002 0002 |]

    uint32_t cps[3] = { 0x307B, 0x309A, 0x0334 };
    uint32_t const ces[10] = { 0x3E8F, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_483)
{
    // 307D 0334;	
    // (ぽ) HIRAGANA LETTER PO	[3E8F | 0020 004A 0038 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x307D, 0x0334 };
    uint32_t const ces[10] = { 0x3E8F, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_484)
{
    // 30DB 0334 309A;	
    // (ホ̴) KATAKANA LETTER HO, COMBINING TILDE OVERLAY	[3E8F | 0020 004A 0038 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30DB, 0x0334, 0x309A };
    uint32_t const ces[10] = { 0x3E8F, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_485)
{
    // 30DB 309A 0334;	
    // (ポ) KATAKANA LETTER HO, COMBINING KATAKANA-HIRAGANA SEMI-VOICED SOUND MARK	[3E8F | 0020 004A 0038 | 0011 0002 0002 |]

    uint32_t cps[3] = { 0x30DB, 0x309A, 0x0334 };
    uint32_t const ces[10] = { 0x3E8F, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 3, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_486)
{
    // 30DD 0334;	
    // (ポ) KATAKANA LETTER PO	[3E8F | 0020 004A 0038 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30DD, 0x0334 };
    uint32_t const ces[10] = { 0x3E8F, 0x0000, 0x0020, 0x004A, 0x0038, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 10);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 10))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_487)
{
    // 307B 0021;	
    // (ほ) HIRAGANA LETTER HO	[3E8F 0261 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x307B, 0x0021 };
    uint32_t const ces[9] = { 0x3E8F, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_488)
{
    // 31F9 0021;	
    // (ㇹ) KATAKANA LETTER SMALL HO	[3E8F 0261 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F9, 0x0021 };
    uint32_t const ces[9] = { 0x3E8F, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_489)
{
    // 30DB 0021;	
    // (ホ) KATAKANA LETTER HO	[3E8F 0261 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30DB, 0x0021 };
    uint32_t const ces[9] = { 0x3E8F, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_490)
{
    // FF8E 0021;	
    // (ﾎ) HALFWIDTH KATAKANA LETTER HO	[3E8F 0261 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8E, 0x0021 };
    uint32_t const ces[9] = { 0x3E8F, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_491)
{
    // 32ED 0021;	
    // (㋭) CIRCLED KATAKANA HO	[3E8F 0261 | 0020 0020 | 0013 0002 |]

    uint32_t cps[2] = { 0x32ED, 0x0021 };
    uint32_t const ces[9] = { 0x3E8F, 0x0261, 0x0000, 0x0020, 0x0020, 0x0000, 0x0013, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_492)
{
    // 307C 0021;	
    // (ぼ) HIRAGANA LETTER BO	[3E8F 0261 | 0020 0037 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x307C, 0x0021 };
    uint32_t const ces[11] = { 0x3E8F, 0x0261, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_493)
{
    // 30DC 0021;	
    // (ボ) KATAKANA LETTER BO	[3E8F 0261 | 0020 0037 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30DC, 0x0021 };
    uint32_t const ces[11] = { 0x3E8F, 0x0261, 0x0000, 0x0020, 0x0037, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_494)
{
    // 307D 0021;	
    // (ぽ) HIRAGANA LETTER PO	[3E8F 0261 | 0020 0038 0020 | 000E 0002 0002 |]

    uint32_t cps[2] = { 0x307D, 0x0021 };
    uint32_t const ces[11] = { 0x3E8F, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x000E, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_495)
{
    // 30DD 0021;	
    // (ポ) KATAKANA LETTER PO	[3E8F 0261 | 0020 0038 0020 | 0011 0002 0002 |]

    uint32_t cps[2] = { 0x30DD, 0x0021 };
    uint32_t const ces[11] = { 0x3E8F, 0x0261, 0x0000, 0x0020, 0x0038, 0x0020, 0x0000, 0x0011, 0x0002, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 11);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 11))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_496)
{
    // 307B 003F;	
    // (ほ) HIRAGANA LETTER HO	[3E8F 0267 | 0020 0020 | 000E 0002 |]

    uint32_t cps[2] = { 0x307B, 0x003F };
    uint32_t const ces[9] = { 0x3E8F, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000E, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_497)
{
    // 31F9 003F;	
    // (ㇹ) KATAKANA LETTER SMALL HO	[3E8F 0267 | 0020 0020 | 000F 0002 |]

    uint32_t cps[2] = { 0x31F9, 0x003F };
    uint32_t const ces[9] = { 0x3E8F, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x000F, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_498)
{
    // 30DB 003F;	
    // (ホ) KATAKANA LETTER HO	[3E8F 0267 | 0020 0020 | 0011 0002 |]

    uint32_t cps[2] = { 0x30DB, 0x003F };
    uint32_t const ces[9] = { 0x3E8F, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0011, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

TEST(collation, non_ignorable_248_499)
{
    // FF8E 003F;	
    // (ﾎ) HALFWIDTH KATAKANA LETTER HO	[3E8F 0267 | 0020 0020 | 0012 0002 |]

    uint32_t cps[2] = { 0xFF8E, 0x003F };
    uint32_t const ces[9] = { 0x3E8F, 0x0267, 0x0000, 0x0020, 0x0020, 0x0000, 0x0012, 0x0002, 0x0000 };

    auto collation = collate_for_tests(
        cps, cps + 2, boost::text::variable_weighting::non_ignorable);

    EXPECT_EQ(collation.size(), 9);
    EXPECT_TRUE(boost::algorithm::equal(collation.begin(), collation.end(), ces, ces + 9))
        << "from:     " << ce_dumper(cps)
        << "expected: " << ce_dumper(ces)
        << "got:      " << ce_dumper(collation);
}

